{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/custom-elements.js","src/dom.js","src/interfaces/Attr.js","src/interfaces/CustomEvent.js","src/interfaces/Document.js","src/interfaces/Element.js","src/interfaces/Event.js","src/interfaces/EventTarget.js","src/interfaces/HTMLSlotElement.js","src/interfaces/HTMLTableElement.js","src/interfaces/HTMLTableRowElement.js","src/interfaces/HTMLTableSectionElement.js","src/interfaces/MutationObserver.js","src/interfaces/NamedNodeMap.js","src/interfaces/Node.js","src/interfaces/ShadowRoot.js","src/interfaces/Text.js","src/main.js","src/microtask.js","src/mixins/ChildNode.js","src/mixins/DocumentOrShadowRoot.js","src/mixins/NonDocumentTypeChildNode.js","src/mixins/NonElementParentNode.js","src/mixins/ParentNode.js","src/mixins/Slotable.js","src/mutation-observers.js","src/shadow-dom.js","src/style-scoping.js","src/utils.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","g","call","exports","length","1","module","_interopRequireDefault","obj","__esModule","default","install","installation","originalCreateElement","Document","prototype","createElement","originalCreateElementNS","createElementNS","builtInElementInterfaces","installHtmlConstructors","registry","CustomElementRegistry","Object","defineProperty","window","CE_PROP_NAME","value","m","document","readyState","addEventListener","DOM_CONTENT_LOADED","performInitialUpgrades","once","customElementsReactionStack","backupElementQueue","processingBackupElementQueue","setPrivateState","uninstall","getPrivateState","uninstallHtmlConstructors","undefined","isInstalled","gatherBuiltInElementInterfaces","windowPropertyNames","getOwnPropertyNames","name","test","object","nativeHTMLElement","push","constructor","installTranspiledClassSupport","Function","_makeHtmlConstructor","_builtInElementInterf","htmlConstructor","CTOR_PROP_NAME","error","_builtInElementInterf2","makeHtmlConstructor","_builtInElementInterf3","_constructor","thisPrototype","getPrototypeOf","this","registryState","TypeError","definition","definitions","current","constructionStack","_element","localName","setPrototypeOf","A","CE_STATE_CUSTOM","B","lastIndex","element","alreadyConstructedMarker","_utils2","makeDOMException","elements","_dom2","forEachShadowIncludingInclusiveDescendant","bind","forEach","tryToUpgradeElementSync","createAnElement","qualifiedOrLocalName","nameSpace","prefix","is","synchronousCustomElements","result","lookupCustomElementDefinition","CE_STATE_UNDEFINED","F","upgradeElement","enqueueUpgradeReaction","HTMLElement","attributes","hasChildNodes","parentNode","ownerDocument","namespaceURI","htmlNamespace","reportError","CE_STATE_FAILED","options","toLowerCase","setAttribute","ATTR_IS_NAME","qualifiedName","isCustom","node","nodeType","Node","ELEMENT_NODE","nodeState","customElementState","isValidCustomElementName","nameLength","firstCode","charCodeAt","foundHyphen","defaultView","customElements","privateState","H","I","elementState","shouldNotUpgrade","J","attribute","args","enqueueCallbackReaction","CE_CALLBACK_ATTRIBUTE_CHANGED","_Attr2","patchAttributeNodeIfNeeded","isConnected","CE_CALLBACK_CONNECTED","caught","constructResult","customElementDefinition","reactionQueue","splice","pop","isValue","tryToUpgradeElement","enqueueElementOnAppropriateElementQueue","stack","_microtask2","enqueue","invokeReactions","callbackName","callback","lifecycleCallbacks","attributeName","observedAttributes","indexOf","type","callbackReactionType","N","O","upgradeReactionType","P","queue","reactions","splicedOut","reaction","apply","executeCEReactions","getCallback","_custom","state","_dom","_microtask","_utils","_Attr","CE_CALLBACK_DISCONNECTED","CE_CALLBACK_ADOPTED","nativeSupport","promisesSupported","S","T","U","V","W","X","Y","Z","$","registerInsertingSteps","registerRemovingSteps","parent","registerAdoptingSteps","oldDocument","newDocument","registerCloningSteps","registerAttributeChangeSteps","oldValue","newValue","define","_this","extensionOf","extends","testElement","elementDefinitionIsRunning","observedAttributesIterable","slice","M","v","entry","whenDefinedPromiseMap","resolve","get","whenDefined","Promise","ea","promise","reject","steps","insertingSteps","removingSteps","adoptingSteps","cloningSteps","attributeChangeSteps","action","shadowState","shadowRoot","getShadowState","childNodes","treeOrderRecursiveSelectAll","results","match","firstChild","nextSibling","treeOrderRecursiveSelectFirst","isShadowRoot","nodeName","SHADOW_NODE_NAME","isSlot","TAG_SLOT","isSlotable","Element","Text","parseHTMLFragment","markup","context","parsingResult","parser","parseFromString","body","nodeAppendChildDescriptor","parsingFragment","serializeHTMLFragment","escapeString","string","attributeMode","replace","EMPTY_STRING","serializeAttributeName","NS_XML","NS_XMLNS","NS_XLINK","content","currentNode","tagName","NS_HTML","NS_MATHML","NS_SVG","j","TEXT_NODE","data","COMMENT_NODE","PROCESSING_INSTRUCTION_NODE","target","DOCUMENT_TYPE_NODE","root","descendant","nodeA","nodeB","ancestor","inclusiveAncestor","convertNodesIntoANode","nodes","item","createTextNode","createDocumentFragment","_i","appendChild","clone","cloneChildren","copy","nodeCloneNodeDescriptor","childNodesCount","_i2","childCopy","adopt","remove","inclusiveDescendant","hostIncludingInclusiveAncestor","host","shadowIncludingRoot","rootNode","shadowIncludingDescendant","shadowIncludingAncestor","shadowIncludingInclusiveAncestor","closedShadowHidden","mode","SHADOW_MODE_CLOSED","retarget","changeAttribute","elementSetAttributeNSDescriptor","elementSetAttributeDescriptor","appendAttribute","removeAttribute","elementRemoveAttributeNSDescriptor","replaceAttribute","oldAttr","newAttr","attr","nativeSetAttributeNodeDescriptor","ownerElement","ERROR_IN_USE_ATTRIBUTE","getNamedItemNS","namedNodeMapSetNamedItemNSDescriptor","setAttributeValue","ns","removeAttributeByName","getNamedItem","removeAttributeByNamespace","insertAdjacent","where","preInsert","ERROR_SYNTAX","listOfElementsWithQualifiedName","isElementNode","lowerCaseQualifiedName","listOfElementsWithNamespaceAndLocalName","listOfElementsWithClassNames","names","classes","getUniqueSortedTokens","nodeClassNames","className","hasAll","setExistingAttributeValue","attrValueDescriptor","set","findASlot","slotable","open","parentState","SHADOW_MODE_OPEN","slot","findSlotables","slotRoot","slotableChildren","Array","pushed","foundSlot","findFlattenedSlotables","slotables","slotableChildrenLength","slotablesPushed","slotableChild","_i3","temporaryResult","resultLength","k","assignSlotableToSlot","suppressSignaling","slotableState","assignedSlot","slotState","setShadowState","assignedNodes","assignedNodesCount","_mutationObservers2","signalASlotChange","_fallbackNodes","_fallbackNodesCount","fallbackNode","fallbackNodeState","fallbackNodes","fallbackNodesCount","_i4","nodeRemoveChildDescriptor","referenceNode","referenceNodeIndex","_i5","assignedNode","compareDocumentPosition","DOCUMENT_POSITION_FOLLOWING","nodeInsertBeforeDescriptor","unassignSlotableFromSlot","slotAssignedNodes","assignSlotablesForATree","tree","noSignalSlots","slots","hostChildNodes","hostChildNodesCount","oldAssignedSlot","newAssignedSlot","suppress","_suppress","ensurePreInsertionValidity","child","ERROR_HIERARCHY_REQUEST","ERROR_NOT_FOUND","referenceChild","insert","suppressObservers","requeueNativeRecords","count","nodeChildNodes","DOCUMENT_FRAGMENT_NODE","_i6","_i7","queueMutationRecord","MO_TYPE_CHILD_LIST","parentStateChildNodes","parentIsShadowRoot","parentTree","_i8","_node","childIndex","inclusiveSlotDescendants","_i9","previousSibling","lastChild","append","removedNodes","childParent","DocumentFragment","childNodesLength","replaceAll","parentChildNodes","removedNodesCount","addedNodes","nodeChildNodesLength","_i10","_i11","preRemove","oldPreviousSibling","oldNextSibling","nodeIndex","ancestorState","observers","ancestorObservers","ancestorObserversCount","registeredObserver","subtree","observer","instance","transientObserver","createTransientObserver","pa","_mutationObservers","_","aa","ba","ca","da","D","ra","sa","ta","ua","va","wa","xa","ya","za","Aa","Ba","Ca","Da","Ea","Fa","Ga","Ha","Ia","Ja","Ka","La","Ma","Na","Oa","Pa","Qa","descriptor","NamedNodeMap","Attr","ATTR_NAME","DOMParser","elementTree","brokenAccessors","originalValueDescriptor","newValueDescriptor","_customElements2","patchAttributeNode","getAttributeNS","getAttribute","_this2","_customElements","K","$CustomEvent","init","bubbles","cancelable","composed","detail","event","createEvent","initCustomEvent","CustomEvent","originalCreateCDATASection","createCDATASection","originalCreateComment","createComment","originalCreateDocumentFragment","originalCreateProcessingInstruction","createProcessingInstruction","originalCreateTextNode","section","registerForMutationObservers","comment","fragment","instruction","text","getElementsByTagName","getElementsByTagNameNS","getElementsByClassName","importNode","deep","DOCUMENT_NODE","adoptNode","_ShadowRoot","_ShadowRoot2","matches","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","attributesDescriptor","Va","extend","elementMixin","htmlElementMixin","_attributesDescriptor","elementAttributesDescriptor","deleteProperty","hasAttribute","setAttributeNS","parts","split","_this3","removeAttributeNS","_this4","setAttributeNode","_this5","setAttributeNodeNS","_this6","removeAttributeNode","_this7","attachShadow","shadow","savedChildNodes","savedChildNodesCount","savedChildNode","childState","hostState","closest","selectors","parentElement","insertAdjacentElement","_this8","insertAdjacentText","insertAdjacentHTML","position","_this9","innerHTML","_this10","outerHTML","_this11","eventConstructor","initEvent","Event","currentTarget","eventCurrentTargetDescriptor","eventTargetDescriptor","FocusEvent","relatedTarget","focusEventRelatedTargetDescriptor","MouseEvent","mouseEventRelatedTargetDescriptor","eventMixin","eventStopImmediatePropagationDescriptor","stopImmediatePropagation","stopImmediatePropagationFlag","stopPropagation","composedPath","path","c","Window","builtInComposedEvents","EventTarget","$EventTarget","getEventListenerCollection","capture","targetState","nativeTarget","nativeTargetState","listeners","collections","collection","createEventListenerCollection","Ya","EventListenerCollection","calculatePath","p","getEventTarget","getRelatedTarget","getFocusEventRelatedTarget","getMouseEventRelatedTarget","targetOverride","originalRelatedTarget","getTheParent","calculateRelatedTarget","calculateTarget","wrapEventWithBrokenAccessors","eventState","wrapper","nativeEvent","descriptors","eventPhase","preventDefault","defaultPrevented","create","_Event","ieBrowserToolsCallbackMagicString","base","native","removeEventListener","dispatchEvent","toString","listener","passive","addListener","attach","removeListener","empty","detach","hostListeners","shadowListeners","phase","CAPTURING_PHASE","invokeListeners","AT_TARGET","getListeners","BUBBLING_PHASE","innerCallback","eb","other","cb","calculatedPath","index","_a","flatten","deleteCaption","caption","deleteTHead","tHead","deleteTFoot","tFoot","deleteRow","rows","deleteCell","cells","$MutationObserver","createMutationObserver","ib","interface","observe","disconnect","takeRecords","records","setNamedItem","setNamedItemNS","removeNamedItem","removeNamedItemNS","subtypes","CharacterData","accessorDescriptors","methodDescriptors","ancestorOf","preceding","element1","element2","precedingSiblings","sibling1","sibling2","siblings","sibling","ancestor1","ancestor2","ancestors1","ancestors2","reverse","Math","abs","min","elementTextContent","childNode","nodeWalker","createTreeWalker","NodeFilter","SHOW_ALL","nodeHasChildNodesDescriptor","nodeChildNodesDescriptor","_childNodes","siblingIndex","nodeValue","ATTRIBUTE_NODE","textContent","getRootNode","normalize","contiguousTextNodes","contiguousCount","next","replaceData","cloneNode","isEqualNode","thisAttributes","otherAttributes","publicId","systemId","attr1","attr2","childNodes1","childNodes2","node1","node2","attrs","atttributes","DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC","DOCUMENT_POSITION_PRECEDING","DOCUMENT_POSITION_CONTAINS","DOCUMENT_POSITION_DISCONNECTED","contains","insertBefore","replaceChild","removeChild","splitText","offset","newData","newNode","_shadowDom","_shadowDom2","installShadowDom","installCustomElements","microtask","triggered","trigger","hidden","process","L","MutationObserver","before","_len","arguments","_key","viablePreviousSibling","after","_len2","_key2","viableNextSibling","replaceWith","_len3","_key3","nativeDocumentActiveElement","activeElement","nativeActiveElement","elementWalker","SHOW_ELEMENT","previousElementSibling","previous","nextElementSibling","getElementById","id","children","firstElementChild","lastElementChild","childElementCount","prepend","querySelector","querySelectorAll","queueMutationObserverCompoundMicrotask","mutationObserverCompoundMicrotaskQueuedFlag","notifyMutationObservers","getOrCreateNodeObservers","kb","mb","_requeueNativeRecords","documentObserver","mutationObservers","nodeObservers","nb","interestedObservers","pairedStrings","MO_TYPE_ATTRIBUTES","attributeFilter","MO_TYPE_CHARACTER_DATA","characterData","childList","attributeOldValue","characterDataOldValue","_observer","record","attributeNamespace","theEmptyList","recordsCount","notifyList","signalList","signalSlotList","na","ma","hb","qa","Ta","la","freeze","inUse","_CustomEvent2","_Document2","_Element2","_Event2","_EventTarget2","HTMLSlotElement","HTMLUnknownElement","_HTMLSlotElement2","HTMLTableElement","_HTMLTableElement2","HTMLTableRowElement","_HTMLTableRowElement2","HTMLTableSectionElement","_HTMLTableSectionElement2","_MutationObserver2","_NamedNodeMap2","_Node2","_Text2","DocumentType","_ChildNode2","_DocumentOrShadowRoot2","_NonDocumentTypeChildNode2","_NonElementParentNode2","_ParentNode2","_Slotable2","_CustomEvent","_Document","_Element","_EventTarget","_HTMLSlotElement","_HTMLTableElement","_HTMLTableRowElement","_HTMLTableSectionElement","_MutationObserver","_NamedNodeMap","_Node","_Text","_ChildNode","_DocumentOrShadowRoot","_NonDocumentTypeChildNode","_NonElementParentNode","_ParentNode","_Slotable","nativeRemoveChild","nativeAppendChild","nativeCreateTextNode","HTMLStyleElement","selector","preselector","slotSelector","console","log","ob","getOwnPropertyDescriptor","message","sacrifice","documentCreateElementDescriptor","extending","mixin","newDescriptor","configurable","oldDescriptor","writable","enumerable","warn","_shadow","desiredItems","itemsInQuestion","d","desiredItem","itemInQuestion","iLength","dLength","tokens","trim","sort","last","unique","Sa","Ra","C","G","Wa","fa","ka","ha","ia","ja"],"mappings":"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","file":"./dist/shadow-dom.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _dom = require('./dom.js');\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _microtask = require('./microtask.js');\n\nvar _microtask2 = _interopRequireDefault(_microtask);\n\nvar _utils = require('./utils.js');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _Attr = require('./interfaces/Attr.js');\n\nvar _Attr2 = _interopRequireDefault(_Attr);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// https://html.spec.whatwg.org/multipage/scripting.html#custom-elements\n\nvar nativeHTMLElement = window.HTMLElement;\n\n// TODO: Remove this circular dependency by introducing a 'creating steps' hook\n\n\nvar htmlNamespace = 'http://www.w3.org/1999/xhtml';\nvar alreadyConstructedMarker = 1;\nvar upgradeReactionType = 1;\nvar callbackReactionType = 2;\nvar CE_STATE_FAILED = 'failed';\nvar CE_STATE_CUSTOM = 'custom';\nvar CE_STATE_UNDEFINED = 'undefined';\nvar CE_PROP_NAME = 'customElements';\nvar CE_CALLBACK_CONNECTED = 'connectedCallback';\nvar CE_CALLBACK_DISCONNECTED = 'disconnectedCallback';\nvar CE_CALLBACK_ADOPTED = 'adoptedCallback';\nvar CE_CALLBACK_ATTRIBUTE_CHANGED = 'attributeChangedCallback';\nvar DOM_CONTENT_LOADED = 'DOMContentLoaded';\nvar CTOR_PROP_NAME = 'constructor';\nvar ATTR_IS_NAME = 'is';\n\nvar nativeSupport = CE_PROP_NAME in window;\nvar promisesSupported = 'Promise' in window;\n\nexports.default = {\n    nativeSupport: nativeSupport,\n    install: install,\n    uninstall: uninstall,\n    isInstalled: isInstalled,\n    installTranspiledClassSupport: installTranspiledClassSupport,\n    isCustom: isCustom,\n    tryToUpgradeElement: tryToUpgradeElement,\n    executeCEReactions: executeCEReactions,\n    isValidCustomElementName: isValidCustomElementName\n};\n\n\n_dom2.default.registerInsertingSteps(function (node) {\n    if (node.isConnected) {\n        if (isCustom(node)) {\n            enqueueCallbackReaction(node, CE_CALLBACK_CONNECTED, []);\n        } else {\n            tryToUpgradeElement(node);\n        }\n    }\n});\n\n_dom2.default.registerRemovingSteps(function (node, parent) {\n    if (isCustom(node)) {\n        enqueueCallbackReaction(node, CE_CALLBACK_DISCONNECTED, []);\n    }\n});\n\n_dom2.default.registerAdoptingSteps(function (node, oldDocument, newDocument) {\n    if (isCustom(node)) {\n        enqueueCallbackReaction(node, CE_CALLBACK_ADOPTED, [oldDocument, newDocument]);\n    }\n});\n\n_dom2.default.registerCloningSteps(function (node) {\n    tryToUpgradeElement(node);\n});\n\n_dom2.default.registerAttributeChangeSteps(function (element, localName, oldValue, newValue, nameSpace) {\n    if (isCustom(element)) {\n        var args = [localName, oldValue, newValue, nameSpace];\n        enqueueCallbackReaction(element, CE_CALLBACK_ATTRIBUTE_CHANGED, args);\n    }\n});\n\n// Installation/uninstallation\n\nfunction install() {\n    var installation = {};\n\n    installation.originalCreateElement = Document.prototype.createElement;\n    installation.originalCreateElementNS = Document.prototype.createElementNS;\n    installation.builtInElementInterfaces = installHtmlConstructors();\n    installation.registry = new CustomElementRegistry();\n\n    Object.defineProperty(window, CE_PROP_NAME, {\n        value: installation.registry,\n        writable: false,\n        configurable: true,\n        enumerable: true\n    });\n\n    Document.prototype.createElement = createElement;\n    Document.prototype.createElementNS = createElementNS;\n\n    if (window.document.readyState === 'loading') {\n        window.document.addEventListener(DOM_CONTENT_LOADED, performInitialUpgrades, { once: true });\n    } else {\n        performInitialUpgrades();\n    }\n\n    installation.customElementsReactionStack = [];\n    installation.backupElementQueue = [];\n    installation.processingBackupElementQueue = false;\n\n    setPrivateState(window, installation);\n}\n\nfunction uninstall() {\n    var installation = getPrivateState(window);\n\n    if (!installation) {\n        return;\n    }\n\n    uninstallHtmlConstructors(installation.builtInElementInterfaces);\n\n    delete window[CE_PROP_NAME];\n\n    Document.prototype.createElement = installation.originalCreateElement;\n    Document.prototype.createElementNS = installation.originalCreateElementNS;\n\n    setPrivateState(window, undefined);\n}\n\nfunction isInstalled() {\n    return getPrivateState(window) != null;\n}\n\nfunction gatherBuiltInElementInterfaces() {\n    var builtInElementInterfaces = [];\n    var windowPropertyNames = Object.getOwnPropertyNames(window);\n    for (var i = 0; i < windowPropertyNames.length; i++) {\n        var name = windowPropertyNames[i];\n        if (/^webkit/.test(name)) {\n            // This just avoids a slew of warnings.\n            continue;\n        }\n        var object = window[name];\n        if (object && object instanceof nativeHTMLElement || object === nativeHTMLElement) {\n            builtInElementInterfaces.push({ name: name, object: object, constructor: object.prototype.constructor });\n        }\n    }\n    return builtInElementInterfaces;\n}\n\nfunction installTranspiledClassSupport() {\n    try {\n        // Ensure that we are only shimming browsers that support ES2015 class syntax.\n        new Function('return class {}');\n\n        var _makeHtmlConstructor = new Function('nativeHTMLElement', 'return function(){const newTarget=new.target||this.constructor;' + 'return Reflect.construct(nativeHTMLElement, [], newTarget);}');\n\n        var builtInElementInterfaces = gatherBuiltInElementInterfaces();\n        for (var i = 0; i < builtInElementInterfaces.length; i++) {\n            var _builtInElementInterf = builtInElementInterfaces[i],\n                name = _builtInElementInterf.name,\n                object = _builtInElementInterf.object;\n\n            var htmlConstructor = _makeHtmlConstructor(object);\n            htmlConstructor.prototype = object.prototype;\n            Object.defineProperty(object.prototype, CTOR_PROP_NAME, {\n                value: htmlConstructor,\n                writable: true,\n                configurable: true\n            });\n            window[name] = htmlConstructor;\n        }\n    } catch (error) {\n        return;\n    }\n}\n\nfunction installHtmlConstructors() {\n    var builtInElementInterfaces = gatherBuiltInElementInterfaces();\n    for (var i = 0; i < builtInElementInterfaces.length; i++) {\n        var _builtInElementInterf2 = builtInElementInterfaces[i],\n            name = _builtInElementInterf2.name,\n            object = _builtInElementInterf2.object;\n\n        var htmlConstructor = makeHtmlConstructor();\n        htmlConstructor.prototype = object.prototype;\n        Object.defineProperty(object.prototype, CTOR_PROP_NAME, {\n            value: htmlConstructor,\n            writable: true,\n            configurable: true\n        });\n        window[name] = htmlConstructor;\n    }\n    return builtInElementInterfaces;\n}\n\nfunction uninstallHtmlConstructors(builtInElementInterfaces) {\n    for (var i = 0; i < builtInElementInterfaces.length; i++) {\n        var _builtInElementInterf3 = builtInElementInterfaces[i],\n            name = _builtInElementInterf3.name,\n            object = _builtInElementInterf3.object,\n            _constructor = _builtInElementInterf3.constructor;\n\n        Object.defineProperty(object.prototype, CTOR_PROP_NAME, {\n            value: _constructor,\n            writable: true,\n            configurable: true\n        });\n        window[name] = object;\n    }\n}\n\nfunction makeHtmlConstructor() {\n    return function htmlConstructor() {\n        var thisPrototype = Object.getPrototypeOf(this);\n\n        // 1. Let registry...\n        var registry = window[CE_PROP_NAME];\n        var registryState = getPrivateState(registry);\n\n        // 2. If NewTarget...\n        if (thisPrototype.constructor === htmlConstructor) {\n            throw new TypeError('Illegal constructor');\n        }\n\n        // 3. Let definition...\n        var definition = void 0;\n        for (var i = 0; i < registryState.definitions.length; i++) {\n            var current = registryState.definitions[i];\n            if (current.constructor === thisPrototype.constructor) {\n                definition = current;\n                break;\n            }\n        }\n        if (!definition) {\n            throw new TypeError();\n        }\n\n        // 4. If definition's local name is equal...\n        // 5. Otherwise... (customized built-in)\n        if (htmlConstructor !== definition.htmlConstructor) {\n            // TODO: assert this is the correct HTML___Element\n            throw new TypeError('Illegal constructor');\n        }\n\n        // 6. let prototype...\n        var prototype = thisPrototype;\n\n        // 7. if prototype is not Object...\n        // in this polyfill, this should always be true\n\n        // 8. If construction stack is empty...\n        var constructionStack = definition.constructionStack;\n        if (constructionStack.length === 0) {\n            var originalCreateElement = getPrivateState(window).originalCreateElement;\n            var _element = originalCreateElement.call(window.document, definition.localName);\n            Object.setPrototypeOf(_element, prototype);\n            setPrivateState(_element, {\n                customElementState: CE_STATE_CUSTOM,\n                customElementDefinition: definition\n            });\n            return _element;\n        }\n\n        var lastIndex = constructionStack.length - 1;\n        // 9. Let element be the last entry\n        var element = constructionStack[lastIndex];\n        // 10. if alreadyConstructedMarker\n        if (element === alreadyConstructedMarker) {\n            throw _utils2.default.makeDOMException('InvalidStateError', 'This element instance is already constructed');\n        }\n        // 11. set prototype\n        Object.setPrototypeOf(element, prototype);\n        // 12. replace last entry\n        constructionStack[lastIndex] = alreadyConstructedMarker;\n        // 13. return element\n        return element;\n    };\n}\n\nfunction performInitialUpgrades() {\n    // Upgrading elements initially present in the document\n    var elements = [];\n    _dom2.default.forEachShadowIncludingInclusiveDescendant(window.document, elements.push.bind(elements));\n    elements.forEach(tryToUpgradeElementSync);\n}\n\n// DOM element creation\n\nfunction createAnElement(document, qualifiedOrLocalName, nameSpace, prefix, is, synchronousCustomElements) {\n    is = is || null;\n    var result = null;\n    var definition = lookupCustomElementDefinition(document, nameSpace, qualifiedOrLocalName, is);\n    if (definition && definition.name != definition.localName) {\n        result = getPrivateState(window).originalCreateElement.call(document, qualifiedOrLocalName);\n        setPrivateState(result, {\n            customElementState: CE_STATE_UNDEFINED,\n            customElementDefinition: null,\n            isValue: is\n        });\n        if (synchronousCustomElements) {\n            upgradeElement(result, definition);\n        } else {\n            enqueueUpgradeReaction(result, definition);\n        }\n    } else if (definition) {\n        if (synchronousCustomElements) {\n            try {\n                result = new definition.constructor();\n                if (!(result instanceof HTMLElement)) {\n                    throw new TypeError('Illegal constructor');\n                }\n                if (result.attributes.length !== 0 || result.hasChildNodes() || result.parentNode || result.ownerDocument !== document || result.namespaceURI !== htmlNamespace || result.localName !== qualifiedOrLocalName) {\n                    var error = new Error('Invalid state manipulation during custom element construction');\n                    error.name = 'NotSupportedError';\n                    throw error;\n                }\n            } catch (error) {\n                _utils2.default.reportError(error);\n                result = getPrivateState(window).originalCreateElement.call(document, qualifiedOrLocalName);\n                // should be HTMLUnknownElement already\n                setPrivateState(result, {\n                    customElementState: CE_STATE_FAILED\n                });\n            }\n        } else {\n            result = getPrivateState(window).originalCreateElement.call(document, qualifiedOrLocalName);\n            Object.setPrototypeOf(result, HTMLElement.prototype);\n            enqueueUpgradeReaction(result, definition);\n        }\n    } else {\n        result = nameSpace ? getPrivateState(window).originalCreateElementNS.call(document, nameSpace, qualifiedOrLocalName) : getPrivateState(window).originalCreateElement.call(document, qualifiedOrLocalName);\n        // PERF: forgo setting the custom element state to CE_STATE_UNDEFINED in order\n        // to avoid unnecessary allocation.\n    }\n    return result;\n}\n\nfunction createElement(localName, options) {\n    var nameSpace = null;\n    //if (this instanceof HTMLDocument) {\n    localName = localName.toLowerCase();\n    nameSpace = htmlNamespace;\n    //}\n    var is = options ? options.is || null : null;\n    var element = createAnElement(this, localName, nameSpace, null, is, true);\n    if (is != null) {\n        element.setAttribute(ATTR_IS_NAME, is);\n    }\n    return element;\n}\n\nfunction createElementNS(nameSpace, qualifiedName, options) {\n    var is = options ? options.is || null : null;\n    var element = createAnElement(this, qualifiedName, nameSpace, null, is, true);\n    if (is != null) {\n        element.setAttribute(ATTR_IS_NAME, is);\n    }\n    return element;\n}\n\n// Custom Element spec\n\nfunction isCustom(node) {\n    if (node.nodeType != Node.ELEMENT_NODE) {\n        return false;\n    }\n    var nodeState = getPrivateState(node);\n    if (!nodeState) {\n        return false;\n    }\n    return nodeState.customElementState === CE_STATE_CUSTOM;\n}\n\nfunction isValidCustomElementName(localName) {\n    // https://html.spec.whatwg.org/multipage/scripting.html#valid-custom-element-name\n    switch (localName) {\n        case 'annotation-xml':\n        case 'color-profile':\n        case 'font-face':\n        case 'font-face-src':\n        case 'font-face-uri':\n        case 'font-face-format':\n        case 'font-face-name':\n        case 'missing-glyph':\n            return false;\n    }\n\n    var nameLength = localName.length;\n\n    if (nameLength < 2) {\n        return false;\n    }\n\n    var firstCode = localName.charCodeAt(0);\n    if (firstCode < 0x61 /* a */ || firstCode > 0x7A /* z */) {\n            return false;\n        }\n\n    var foundHyphen = false;\n\n    for (var i = 1; i < nameLength; i++) {\n        var code = localName.charCodeAt(i);\n        if (code >= 0x61 /* a */ && code <= 0x7A /* z */) {\n                continue;\n            }\n        if (code === 0x2D /* - */) {\n                foundHyphen = true;\n                continue;\n            }\n        if (code === 0x2E /* . */ || code === 0x5F /* _ */ || code === 0xB7 /*  */) {\n                continue;\n            }\n        if (code >= 0x30 /* 0 */ && code <= 0x39 /* 9 */) {\n                continue;\n            }\n        if (code < 0x00C0) {\n            return false;\n        }\n        if (code >= 0xC0 && code <= 0xD6) {\n            continue;\n        }\n        if (code >= 0xD8 && code <= 0xF6) {\n            continue;\n        }\n        if (code >= 0xF8 && code <= 0x37D) {\n            continue;\n        }\n        if (code >= 0x37F && code <= 0x1FFF) {\n            continue;\n        }\n        if (code >= 0x200C && code <= 0x200D) {\n            continue;\n        }\n        if (code >= 0x203F && code <= 0x2040) {\n            continue;\n        }\n        if (code >= 0x2070 && code <= 0x218F) {\n            continue;\n        }\n        if (code >= 0x2C00 && code <= 0x2FEF) {\n            continue;\n        }\n        if (code >= 0x3001 && code <= 0xD7FF) {\n            continue;\n        }\n        if (code >= 0xF900 && code <= 0xFDCF) {\n            continue;\n        }\n        if (code >= 0xFDF0 && code <= 0xFFFD) {\n            continue;\n        }\n        if (code >= 0x10000 && code <= 0xEFFFF) {\n            continue;\n        }\n        return false;\n    }\n\n    return foundHyphen;\n}\n\nfunction lookupCustomElementDefinition(document, nameSpace, localName, is) {\n    if (nameSpace !== htmlNamespace) {\n        return null;\n    }\n    if (!document.defaultView) {\n        return null;\n    }\n    var registry = document.defaultView.customElements;\n    var privateState = getPrivateState(registry);\n    for (var i = 0; i < privateState.definitions.length; i++) {\n        var definition = privateState.definitions[i];\n        if (definition.localName === localName) {\n            if (definition.name === localName || definition.name === is) {\n                return definition;\n            }\n        }\n    }\n    return null;\n}\n\nfunction CustomElementRegistry() {\n    setPrivateState(this, {\n        definitions: [],\n        elementDefinitionIsRunning: false,\n        whenDefinedPromiseMap: {}\n    });\n}\n\nCustomElementRegistry.prototype = {\n    define: function define(name, constructor, options) {\n        var _this = this;\n\n        executeCEReactions(function () {\n            var privateState = getPrivateState(_this);\n            if (constructor !== constructor.prototype.constructor) {\n                throw new TypeError('The passed argument must be a constructor');\n            }\n            if (!isValidCustomElementName(name)) {\n                throw _utils2.default.makeDOMException('SyntaxError');\n            }\n            // TODO: check for already defined name\n            // TODO: check for already defined constructor\n            var localName = name;\n            var extensionOf = options ? options.extends : null;\n            var htmlConstructor = window.HTMLElement;\n            if (extensionOf != null) {\n                if (isValidCustomElementName(extensionOf)) {\n                    throw _utils2.default.makeDOMException('NotSupportedError');\n                }\n                // TODO: check for HTMLUnknownElement\n                localName = extensionOf;\n                htmlConstructor = Object.getPrototypeOf(testElement).constructor;\n            }\n            if (privateState.elementDefinitionIsRunning) {\n                throw _utils2.default.makeDOMException('NotSupportedError');\n            }\n            privateState.elementDefinitionIsRunning = true;\n            var caught = null;\n            var observedAttributes = [];\n            var lifecycleCallbacks = void 0;\n            var nativeInterface = void 0;\n            try {\n                var prototype = constructor.prototype;\n                if (!(prototype instanceof Object)) {\n                    throw new TypeError('Invalid prototype');\n                }\n                lifecycleCallbacks = {};\n                lifecycleCallbacks[CE_CALLBACK_CONNECTED] = getCallback(prototype, CE_CALLBACK_CONNECTED);\n                lifecycleCallbacks[CE_CALLBACK_DISCONNECTED] = getCallback(prototype, CE_CALLBACK_DISCONNECTED);\n                lifecycleCallbacks[CE_CALLBACK_ADOPTED] = getCallback(prototype, CE_CALLBACK_ADOPTED);\n                lifecycleCallbacks[CE_CALLBACK_ATTRIBUTE_CHANGED] = getCallback(prototype, CE_CALLBACK_ATTRIBUTE_CHANGED);\n                if (lifecycleCallbacks[CE_CALLBACK_ATTRIBUTE_CHANGED]) {\n                    var observedAttributesIterable = constructor.observedAttributes;\n                    if (observedAttributesIterable) {\n                        observedAttributes = observedAttributesIterable.slice();\n                    }\n                }\n            } catch (error) {\n                caught = error;\n            }\n            privateState.elementDefinitionIsRunning = false;\n            if (caught) {\n                throw caught;\n            }\n            var definition = {\n                name: name,\n                localName: localName,\n                constructor: constructor,\n                observedAttributes: observedAttributes,\n                lifecycleCallbacks: lifecycleCallbacks,\n                constructionStack: [],\n                htmlConstructor: htmlConstructor\n            };\n            privateState.definitions.push(definition);\n            var document = window.document;\n            // This needs to be here because in some cases,\n            // an async script can interrupt the parser\n            // and any custom elements that call attachShadow\n            // in their constructor will have adverse effects\n            // due to the parser not yet having processed all\n            // of the child nodes.\n            if (document.readyState !== 'loading') {\n                _dom2.default.forEachShadowIncludingInclusiveDescendant(document, function (node) {\n                    if (node.nodeType === Node.ELEMENT_NODE && node.namespaceURI === htmlNamespace && node.localName === localName) {\n                        if (extensionOf) {\n                            var nodeState = getPrivateState(node);\n                            // TODO: test upgrades to existing extended built-in custom elements\n                            if (nodeState.isValue !== extensionOf) {\n                                return;\n                            }\n                        }\n                        enqueueUpgradeReaction(node, definition);\n                    }\n                });\n            }\n            var entry = privateState.whenDefinedPromiseMap[name];\n            if (entry) {\n                _microtask2.default.enqueue(function () {\n                    entry.resolve();\n                    privateState.whenDefinedPromiseMap[name] = null;\n                });\n            }\n        });\n    },\n    get: function get(name) {\n        var privateState = getPrivateState(this);\n        for (var i = 0; i < privateState.definitions.length; i++) {\n            var definition = privateState.definitions[i];\n            if (definition.name === name) {\n                return definition.constructor;\n            }\n        }\n        return undefined;\n    },\n    whenDefined: function whenDefined(name) {\n        if (!promisesSupported) {\n            throw new Error('Please include a promise polyfill.');\n        }\n        if (!isValidCustomElementName(name)) {\n            throw _utils2.default.makeDOMException('SyntaxError', 'Invalid custom element name');\n        }\n        var privateState = getPrivateState(this);\n        for (var i = 0; i < privateState.definitions.length; i++) {\n            var definition = privateState.definitions[i];\n            if (name === definition.name) {\n                return Promise.resolve();\n            }\n        }\n        var entry = privateState.whenDefinedPromiseMap[name];\n        if (!entry) {\n            entry = { promise: null, resolve: null };\n            entry.promise = new Promise(function (resolve, reject) {\n                entry.resolve = resolve;\n            });\n            privateState.whenDefinedPromiseMap[name] = entry;\n        }\n        return entry.promise;\n    }\n};\n\nfunction upgradeElement(element, definition) {\n    // https://html.spec.whatwg.org/multipage/scripting.html#concept-upgrade-an-element\n    var elementState = getPrivateState(element);\n    if (!elementState) {\n        elementState = setPrivateState(element, {\n            reactionQueue: [],\n            customElementDefinition: definition\n        });\n    } else if (shouldNotUpgrade(elementState)) {\n        return;\n    }\n    var attributes = element.attributes;\n    for (var i = 0; i < attributes.length; i++) {\n        var attribute = attributes[i];\n        var args = [attribute.localName, null, attribute.value, attribute.namespaceURI];\n        enqueueCallbackReaction(element, CE_CALLBACK_ATTRIBUTE_CHANGED, args);\n        _Attr2.default.patchAttributeNodeIfNeeded(attribute);\n    }\n    if (element.isConnected) {\n        enqueueCallbackReaction(element, CE_CALLBACK_CONNECTED, []);\n    }\n    definition.constructionStack.push(element);\n    var caught = null;\n    try {\n        var constructResult = new definition.constructor();\n        if (constructResult !== element) {\n            throw _utils2.default.makeDOMException('InvalidStateError');\n        }\n    } catch (error) {\n        caught = error;\n        delete element.prototype;\n        elementState.customElementState = CE_STATE_FAILED;\n        elementState.customElementDefinition = null;\n        elementState.reactionQueue.splice(0, elementState.reactionQueue.length);\n    }\n    definition.constructionStack.pop();\n    if (caught) {\n        throw caught;\n    }\n    elementState.customElementState = CE_STATE_CUSTOM;\n}\n\nfunction tryToUpgradeElementSync(element) {\n    var elementState = getPrivateState(element);\n    var isValue = null;\n    if (elementState) {\n        if (shouldNotUpgrade(elementState)) {\n            return;\n        }\n        isValue = elementState.isValue;\n    }\n    var definition = lookupCustomElementDefinition(element.ownerDocument, element.namespaceURI, element.localName, isValue);\n    if (definition) {\n        upgradeElement(element, definition);\n    }\n}\n\nfunction tryToUpgradeElement(element) {\n    var elementState = getPrivateState(element);\n    var isValue = null;\n    if (elementState) {\n        if (shouldNotUpgrade(elementState)) {\n            return;\n        }\n        isValue = elementState.isValue;\n    }\n    var definition = lookupCustomElementDefinition(element.ownerDocument, element.namespaceURI, element.localName, isValue);\n    if (definition) {\n        enqueueUpgradeReaction(element, definition);\n    }\n}\n\nfunction enqueueElementOnAppropriateElementQueue(element) {\n    var installation = getPrivateState(window);\n    if (!installation) {\n        return;\n    }\n    // https://html.spec.whatwg.org/multipage/scripting.html#enqueue-an-element-on-the-appropriate-element-queue\n    // 1. If the custom element reactions stack is empty, then:\n    var stack = installation.customElementsReactionStack;\n    if (stack.length === 0) {\n        // 1. Add element to the backup element queue.\n        installation.backupElementQueue.push(element);\n        // 2. If the processing the backup element queue flag is set, abort this algorithm.\n        if (installation.processingBackupElementQueue) {\n            return;\n        }\n        // 3. Set the processing the backup element queue flag.\n        installation.processingBackupElementQueue = true;\n        // 4. Queue a microtask to perform the following steps:\n        _microtask2.default.enqueue(function () {\n            // 1. Invoke custom element reactions in the backup element queue.\n            invokeReactions(installation.backupElementQueue);\n            // 2. Unset the processing the backup element queue flag.\n            installation.processingBackupElementQueue = false;\n        });\n    }\n    // 2. Otherwise, add element to the current element queue.\n    else {\n            stack[stack.length - 1].push(element);\n        }\n}\n\nfunction enqueueCallbackReaction(element, callbackName, args) {\n    // https://html.spec.whatwg.org/multipage/scripting.html#enqueue-a-custom-element-callback-reaction\n    var elementState = getPrivateState(element);\n    var definition = elementState.customElementDefinition;\n    var callback = definition.lifecycleCallbacks[callbackName];\n    if (callback == null) {\n        return;\n    }\n    if (callbackName === CE_CALLBACK_ATTRIBUTE_CHANGED) {\n        var attributeName = args[0];\n        if (definition.observedAttributes.indexOf(attributeName) === -1) {\n            return;\n        }\n    }\n    if (!elementState.reactionQueue) {\n        elementState.reactionQueue = [];\n    }\n    elementState.reactionQueue.push({ type: callbackReactionType, callback: callback, args: args });\n    enqueueElementOnAppropriateElementQueue(element);\n}\n\nfunction enqueueUpgradeReaction(element, definition) {\n    // https://html.spec.whatwg.org/multipage/scripting.html#enqueue-a-custom-element-upgrade-reaction\n    var elementState = getPrivateState(element) || setPrivateState(element, { reactionQueue: [] });\n    elementState.customElementDefinition = definition;\n    elementState.reactionQueue.push({ type: upgradeReactionType, definition: definition });\n    enqueueElementOnAppropriateElementQueue(element);\n}\n\nfunction invokeReactions(queue) {\n    // https://html.spec.whatwg.org/multipage/scripting.html#invoke-custom-element-reactions\n    for (var i = 0; i < queue.length; i++) {\n        var element = queue[i];\n        var reactions = getPrivateState(element).reactionQueue;\n        while (reactions.length) {\n            try {\n                var splicedOut = reactions.splice(0, 1);\n                var reaction = splicedOut[0];\n                switch (reaction.type) {\n                    case upgradeReactionType:\n                        upgradeElement(element, reaction.definition);\n                        break;\n                    case callbackReactionType:\n                        reaction.callback.apply(element, reaction.args);\n                        break;\n                }\n            } catch (error) {\n                _utils2.default.reportError(error);\n            }\n        }\n    }\n}\n\nfunction executeCEReactions(callback) {\n    var installation = getPrivateState(window);\n    if (installation) {\n        var stack = installation.customElementsReactionStack;\n        stack.push([]);\n        var result = callback();\n        invokeReactions(stack.pop());\n        return result;\n    }\n    return callback();\n}\n\n// Utility functions\n\nfunction shouldNotUpgrade(privateState) {\n    return privateState && (privateState.customElementState === CE_STATE_CUSTOM || privateState.customElementState === CE_STATE_FAILED);\n}\n\nfunction getCallback(prototype, callbackName) {\n    var callback = prototype[callbackName];\n    if (callback && typeof callback === 'function') {\n        return callback;\n    }\n    return null;\n}\n\nfunction getPrivateState(object) {\n    return object._custom;\n}\n\nfunction setPrivateState(object, state) {\n    return object._custom = state;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _utils = require('./utils.js');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _mutationObservers = require('./mutation-observers.js');\n\nvar _mutationObservers2 = _interopRequireDefault(_mutationObservers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n\n    registerInsertingSteps: registerInsertingSteps,\n    registerRemovingSteps: registerRemovingSteps,\n    registerAdoptingSteps: registerAdoptingSteps,\n    registerCloningSteps: registerCloningSteps,\n    registerAttributeChangeSteps: registerAttributeChangeSteps,\n\n    forEachShadowIncludingInclusiveDescendant: forEachShadowIncludingInclusiveDescendant,\n    treeOrderRecursiveSelectAll: treeOrderRecursiveSelectAll,\n    treeOrderRecursiveSelectFirst: treeOrderRecursiveSelectFirst,\n    isShadowRoot: isShadowRoot,\n\n    parseHTMLFragment: parseHTMLFragment,\n    serializeHTMLFragment: serializeHTMLFragment,\n\n    root: root,\n\n    convertNodesIntoANode: convertNodesIntoANode,\n\n    clone: clone,\n    adopt: adopt,\n\n    shadowIncludingRoot: shadowIncludingRoot,\n    shadowIncludingInclusiveAncestor: shadowIncludingInclusiveAncestor,\n    closedShadowHidden: closedShadowHidden,\n    retarget: retarget,\n\n    changeAttribute: changeAttribute,\n    appendAttribute: appendAttribute,\n    removeAttribute: removeAttribute,\n    setAttribute: setAttribute,\n    setAttributeValue: setAttributeValue,\n    removeAttributeByName: removeAttributeByName,\n    removeAttributeByNamespace: removeAttributeByNamespace,\n\n    insertAdjacent: insertAdjacent,\n\n    listOfElementsWithQualifiedName: listOfElementsWithQualifiedName,\n    listOfElementsWithNamespaceAndLocalName: listOfElementsWithNamespaceAndLocalName,\n    listOfElementsWithClassNames: listOfElementsWithClassNames,\n\n    setExistingAttributeValue: setExistingAttributeValue,\n\n    findFlattenedSlotables: findFlattenedSlotables,\n\n    preInsert: preInsert,\n    insert: insert,\n    append: append,\n    replace: replace,\n    replaceAll: replaceAll,\n    preRemove: preRemove,\n    remove: remove\n\n};\n\n\nvar insertingSteps = [];\nvar removingSteps = [];\nvar adoptingSteps = [];\nvar cloningSteps = [];\nvar attributeChangeSteps = [];\n\nfunction registerInsertingSteps(steps) {\n    insertingSteps.push(steps);\n}\n\nfunction registerRemovingSteps(steps) {\n    removingSteps.push(steps);\n}\n\nfunction registerAdoptingSteps(steps) {\n    adoptingSteps.push(steps);\n}\n\nfunction registerCloningSteps(steps) {\n    cloningSteps.push(steps);\n}\n\nfunction registerAttributeChangeSteps(steps) {\n    attributeChangeSteps.push(steps);\n}\n\nvar elementRemoveAttributeNSDescriptor = _utils2.default.descriptor(Element, 'removeAttributeNS');\nvar elementSetAttributeDescriptor = _utils2.default.descriptor(Element, 'setAttribute');\nvar elementSetAttributeNSDescriptor = _utils2.default.descriptor(Element, 'setAttributeNS');\nvar namedNodeMapSetNamedItemNSDescriptor = _utils2.default.descriptor(NamedNodeMap, 'setNamedItemNS');\nvar nodeAppendChildDescriptor = _utils2.default.descriptor(Node, 'appendChild');\nvar nodeCloneNodeDescriptor = _utils2.default.descriptor(Node, 'cloneNode');\nvar nodeInsertBeforeDescriptor = _utils2.default.descriptor(Node, 'insertBefore');\nvar nodeRemoveChildDescriptor = _utils2.default.descriptor(Node, 'removeChild');\n\nvar attrValueDescriptor = _utils2.default.descriptor(Attr, 'value');\n\nvar ATTR_NAME = 'name';\nvar EMPTY_STRING = '';\nvar ERROR_IN_USE_ATTRIBUTE = 'InUseAttributeError';\nvar ERROR_HIERARCHY_REQUEST = 'HierarchyRequestError';\nvar ERROR_INDEX_SIZE = 'IndexSizeError';\nvar ERROR_NOT_FOUND = 'NotFoundError';\nvar ERROR_SYNTAX = 'SyntaxError';\nvar MO_TYPE_CHILD_LIST = 'childList';\nvar NS_HTML = 'http://www.w3.org/1999/xhtml';\nvar NS_MATHML = 'http://www.w3.org/1998/Math/MathML';\nvar NS_SVG = 'http://www.w3.org/2000/svg';\nvar NS_XML = 'http://www.w3.org/XML/1998/namespace';\nvar NS_XMLNS = 'http://www.w3.org/2000/xmlns/';\nvar NS_XLINK = 'http://www.w3.org/1999/xlink';\nvar SHADOW_MODE_OPEN = 'open';\nvar SHADOW_MODE_CLOSED = 'closed';\nvar SHADOW_NODE_NAME = '#shadow-root';\nvar TAG_SLOT = 'slot';\n\nfunction forEachInclusiveDescendant(node, callback) {\n    callback(node);\n    var childNodes = node.childNodes;\n    for (var i = 0; i < childNodes.length; i++) {\n        forEachInclusiveDescendant(childNodes[i], callback);\n    }\n}\n\nfunction forEachShadowIncludingInclusiveDescendant(node, action) {\n    action(node);\n    var shadowState = null;\n    var shadowRoot = null;\n    if ((shadowState = _utils2.default.getShadowState(node)) && (shadowRoot = shadowState.shadowRoot)) {\n        forEachShadowIncludingInclusiveDescendant(shadowRoot, action);\n    }\n    var childNodes = node.childNodes;\n    for (var i = 0; i < childNodes.length; i++) {\n        forEachShadowIncludingInclusiveDescendant(childNodes[i], action);\n    }\n}\n\nfunction treeOrderRecursiveSelectAll(node, results, match) {\n    if (match(node)) {\n        results[results.length] = node;\n    }\n    var firstChild = node.firstChild;\n    if (firstChild) {\n        treeOrderRecursiveSelectAll(firstChild, results, match);\n    }\n    var nextSibling = node.nextSibling;\n    if (nextSibling) {\n        treeOrderRecursiveSelectAll(nextSibling, results, match);\n    }\n}\n\nfunction treeOrderRecursiveSelectFirst(node, match) {\n    if (match(node)) {\n        return node;\n    }\n    var firstChild = node.firstChild;\n    if (firstChild) {\n        var result = treeOrderRecursiveSelectFirst(firstChild, match);\n        if (result) {\n            return result;\n        }\n    }\n    var nextSibling = node.nextSibling;\n    if (nextSibling) {\n        return treeOrderRecursiveSelectFirst(nextSibling, match);\n    }\n    return null;\n}\n\nfunction isShadowRoot(node) {\n    return node.nodeName === SHADOW_NODE_NAME;\n}\n\nfunction isSlot(node) {\n    return node.localName === TAG_SLOT;\n}\n\nfunction isSlotable(node) {\n    return node instanceof Element || node instanceof Text;\n}\n\n// https://www.w3.org/TR/DOM-Parsing/\n\n// PERF: This function uses a recycled document fragment \n// to avoid allocation. Callers must empty the returned fragment.\nvar parser = new DOMParser();\nvar parsingFragment = document.createDocumentFragment();\nfunction parseHTMLFragment(markup, context) {\n    // The surrounding body tags are required to preserve all of the original markup (comments, etc.)\n    var parsingResult = parser.parseFromString('<body>' + markup + '</body>', 'text/html').body;\n    var firstChild = void 0;\n    while (firstChild = parsingResult.firstChild) {\n        nodeAppendChildDescriptor.value.call(parsingFragment, firstChild);\n    }\n    return parsingFragment;\n}\n\nfunction serializeHTMLFragment(node) {\n    // https://www.w3.org/TR/html5/single-page.html#html-fragment-serialization-algorithm\n\n    // 1. Let s be a string, and initialize it to the empty string.\n    var s = EMPTY_STRING;\n\n    // 2. If the node is a template element, then let the node instead be the \n    // template element's template contents (a DocumentFragment node).\n    if (node.localName === 'template') {\n        var content = node.content;\n        if (content) {\n            node = content;\n        }\n    }\n\n    // 3. For each child node of the node, in tree order, run the following steps:\n    var childNodes = node.childNodes;\n    for (var i = 0; i < childNodes.length; i++) {\n        // 1. Let current node be the child node being processed.\n        var currentNode = childNodes[i];\n        // 2. Append the appropriate string from the following list to s:\n        switch (currentNode.nodeType) {\n            case Node.ELEMENT_NODE:\n                var tagName = void 0;\n                switch (currentNode.namespaceURI) {\n                    case NS_HTML:\n                    case NS_MATHML:\n                    case NS_SVG:\n                        tagName = currentNode.localName;\n                        break;\n                    default:\n                        tagName = currentNode.qualifiedName;\n                        break;\n                }\n                s += '<' + tagName;\n                var attributes = currentNode.attributes;\n                for (var j = 0; j < attributes.length; j++) {\n                    var attribute = attributes[j];\n                    s += ' ' + serializeAttributeName(attribute);\n                    s += '=\"' + escapeString(attribute.value) + '\"';\n                }\n                s += '>';\n                switch (currentNode.localName) {\n                    case 'area':case 'base':case 'basefont':case 'bgsound':\n                    case 'br':case 'col':case 'embed':case 'frame':case 'hr':\n                    case 'img':case 'input':case 'keygen':case 'link':case 'meta':\n                    case 'param':case 'source':case 'track':case 'wbr':\n                        continue;\n                    case 'pre':case 'textarea':case 'listing':\n                        var firstChild = currentNode.firstChild;\n                        if (firstChild && firstChild.nodeType === Node.TEXT_NODE && firstChild.data[0] === '\\n') {\n                            s += '\\n';\n                        }\n                        break;\n                }\n                s += serializeHTMLFragment(currentNode);\n                s += '</' + tagName + '>';\n                break;\n            case Node.TEXT_NODE:\n                switch (currentNode.parentNode.localName) {\n                    case 'style':case 'script':case 'xmp':case 'iframe':\n                    case 'noembed':case 'noframes':case 'plaintext':case 'noscript':\n                        s += currentNode.data;\n                        break;\n                    default:\n                        s += escapeString(currentNode.data);\n                        break;\n                }\n                break;\n            case Node.COMMENT_NODE:\n                s += '<!--' + currentNode.data + '-->';\n                break;\n            case Node.PROCESSING_INSTRUCTION_NODE:\n                s += '<?' + currentNode.target + ' ' + currentNode.data + '>';\n                break;\n            case Node.DOCUMENT_TYPE_NODE:\n                s += '<!DOCTYPE ' + currentNode.name + '>';\n                break;\n        }\n    }\n\n    // 4. The result of the algorithm is the string s.\n    return s;\n\n    function escapeString(string, attributeMode) {\n        if (!string || !string.length) {\n            return EMPTY_STRING;\n        }\n\n        string = string.replace('&', '&amp;');\n        string = string.replace('\\xA0', '&nbsp;');\n\n        if (attributeMode) {\n            string = string.replace('\"', '&quot;');\n        } else {\n            string = string.replace('<', '&lt;');\n            string = string.replace('>', '&gt;');\n        }\n\n        return string;\n    }\n\n    function serializeAttributeName(attribute) {\n        var namespaceURI = attribute.namespaceURI;\n        var localName = attribute.localName;\n        if (!namespaceURI) {\n            return localName;\n        }\n        switch (namespaceURI) {\n            case NS_XML:\n                return 'xml:' + localName;\n            case NS_XMLNS:\n                if (localName === 'xmlns') {\n                    return localName;\n                }\n                return 'xmlns:' + localName;\n            case NS_XLINK:\n                return 'xlink:' + localName;\n            default:\n                return attribute.name;\n        }\n    }\n}\n\n// https://dom.spec.whatwg.org/#trees\n\nfunction root(node) {\n    var root = node;\n    var parent = root.parentNode;\n\n    while (parent != null) {\n        root = parent;\n        parent = root.parentNode;\n    }\n\n    return root;\n}\n\nfunction descendant(nodeA, nodeB) {\n    var parent = nodeA.parentNode;\n\n    while (parent != null) {\n        if (nodeB === parent) {\n            return true;\n        }\n        parent = parent.parentNode;\n    }\n\n    return false;\n}\n\nfunction inclusiveDescendant(nodeA, nodeB) {\n    return nodeA === nodeB || descendant(nodeA, nodeB);\n}\n\nfunction ancestor(nodeA, nodeB) {\n    var parent = nodeB.parentNode;\n\n    while (parent != null) {\n        if (nodeA === parent) {\n            return true;\n        }\n        parent = parent.parentNode;\n    }\n\n    return false;\n}\n\nfunction inclusiveAncestor(nodeA, nodeB) {\n    return nodeA === nodeB || ancestor(nodeA, nodeB);\n}\n\n// https://dom.spec.whatwg.org/#interface-parentnode\n\nfunction convertNodesIntoANode(nodes, document) {\n    var node = null;\n\n    for (var i = 0; i < nodes.length; i++) {\n        var item = nodes[i];\n\n        if (typeof item === \"string\") {\n            nodes[i] = document.createTextNode(item);\n        }\n    }\n\n    if (nodes.length === 1) {\n        node = nodes[0];\n    } else {\n        node = document.createDocumentFragment();\n\n        for (var _i = 0; _i < nodes.length; _i++) {\n            node.appendChild(nodes[_i]);\n        }\n    }\n\n    return node;\n}\n\n// https://dom.spec.whatwg.org/#interface-node\n\nfunction clone(node, document, cloneChildren) {\n    // https://dom.spec.whatwg.org/#concept-node-clone\n    // To clone a node, with an optional document and clone children flag, run these steps:\n\n    // 1. If document is not given, let document be nodes node document.\n    document = document || node.ownerDocument;\n\n    // For performance reasons we are going to do things a little differently.\n\n    // 2. If node is an element, then....\n    // 3. Otherwise, let copy be a node that implements the same interfaces \n    // as node, and fulfills these additional requirements, switching on node:\n    // 4. Set copys node document and document to copy, if copy is a document, \n    // and set copys node document to document otherwise.\n    var copy = nodeCloneNodeDescriptor.value.call(node, false);\n    for (var i = 0; i < cloningSteps.length; i++) {\n        cloningSteps[i](copy);\n    }\n\n    // 5. Run any cloning steps defined for node in other applicable \n    // specifications and pass copy, node, document and the clone children \n    // flag if set, as parameters.\n    // SKIP: other\n\n    // 6. If the clone children flag is set, clone all the children of node \n    // and append them to copy, with document as specified and the clone \n    // children flag being set.\n    // PERF: Use the native appendChild instead of the simulation DOM append algorithm.\n    // This should be okay because no node in the clone tree can possibly have any mutation \n    // observers or shadow roots yet.\n    if (cloneChildren) {\n        var childNodes = node.childNodes;\n        var childNodesCount = childNodes.length;\n        for (var _i2 = 0; _i2 < childNodesCount; _i2++) {\n            var childCopy = clone(childNodes[_i2], document, true);\n            nodeAppendChildDescriptor.value.call(copy, childCopy);\n        }\n    }\n\n    return copy;\n}\n\nfunction adopt(node, document) {\n    // https://dom.spec.whatwg.org/#concept-node-adopt\n\n    // 1. Let oldDocument be nodes node document.\n    var oldDocument = node.ownerDocument;\n\n    // 2. If nodes parent is not null, remove node from its parent.\n    var parent = node.parentNode;\n    if (parent != null) {\n        remove(node, parent);\n    }\n\n    // 3. If document is not the same as oldDocument, run these substeps:\n    if (document != oldDocument) {\n        forEachShadowIncludingInclusiveDescendant(node, function (inclusiveDescendant) {\n            for (var i = 0; i < adoptingSteps.length; i++) {\n                adoptingSteps[i](inclusiveDescendant, oldDocument, document);\n            }\n        });\n    }\n}\n\n// https://dom.spec.whatwg.org/#interface-documentfragment\n\nfunction hostIncludingInclusiveAncestor(nodeA, nodeB) {\n    if (inclusiveAncestor(nodeA, nodeB)) {\n        return true;\n    }\n\n    var host = root(nodeB).host;\n\n    if (host && hostIncludingInclusiveAncestor(nodeA, host)) {\n        return true;\n    }\n\n    return false;\n}\n\n// https://dom.spec.whatwg.org/#interface-shadowroot\n\nfunction shadowIncludingRoot(node) {\n    var rootNode = root(node);\n    if (isShadowRoot(rootNode)) {\n        rootNode = shadowIncludingRoot(rootNode.host);\n    }\n    return rootNode;\n}\n\nfunction shadowIncludingDescendant(nodeA, nodeB) {\n    do {\n        if (isShadowRoot(nodeA)) {\n            nodeA = nodeA.host;\n        } else {\n            nodeA = nodeA.parentNode;\n        }\n        if (nodeA === nodeB) {\n            return true;\n        }\n    } while (nodeA != null);\n\n    return false;\n}\n\nfunction shadowIncludingAncestor(nodeA, nodeB) {\n    return shadowIncludingDescendant(nodeB, nodeA);\n}\n\nfunction shadowIncludingInclusiveAncestor(nodeA, nodeB) {\n    return nodeA === nodeB || shadowIncludingAncestor(nodeA, nodeB);\n}\n\nfunction closedShadowHidden(nodeA, nodeB) {\n    // https://dom.spec.whatwg.org/#concept-closed-shadow-hidden\n    var rootNode = root(nodeA);\n\n    if (!isShadowRoot(rootNode)) {\n        return false;\n    }\n\n    if (shadowIncludingInclusiveAncestor(rootNode, nodeB)) {\n        return false;\n    }\n\n    if (rootNode.mode === SHADOW_MODE_CLOSED || closedShadowHidden(rootNode.host, nodeB)) {\n        return true;\n    }\n\n    return false;\n}\n\nfunction retarget(nodeA, nodeB) {\n    // https://dom.spec.whatwg.org/#retarget\n    // To retarget an object A against an object B, repeat these steps \n    // until they return an object:\n\n    var rootNode = void 0;\n    while (rootNode = root(nodeA)) {\n        // 1. If As root is not a shadow root, or As root is a shadow-including \n        // inclusive ancestor of B, then return A.\n        if (!isShadowRoot(rootNode) || shadowIncludingInclusiveAncestor(rootNode, nodeB)) {\n            return nodeA;\n        }\n        // 2. Set A to As roots host.\n        nodeA = rootNode.host;\n    }\n}\n\n// https://dom.spec.whatwg.org/#interface-element\n\nregisterAttributeChangeSteps(function updateSlotName(element, localName, oldValue, value, nameSpace) {\n    // https://dom.spec.whatwg.org/#slot-name\n    if (isSlot(element)) {\n        if (localName === ATTR_NAME && nameSpace == null) {\n            if (value === oldValue) {\n                return;\n            }\n            if (value == null && oldValue === EMPTY_STRING) {\n                return;\n            }\n            if (value === EMPTY_STRING && oldValue == null) {\n                return;\n            }\n            if (value == null || value === EMPTY_STRING) {\n                elementSetAttributeDescriptor.value.call(element, ATTR_NAME, EMPTY_STRING);\n            } else {\n                elementSetAttributeDescriptor.value.call(element, ATTR_NAME, value);\n            }\n            var elementTree = root(element);\n            if (isShadowRoot(elementTree)) {\n                assignSlotablesForATree(elementTree);\n            }\n        }\n    }\n});\n\nregisterAttributeChangeSteps(function updateSlotableName(element, localName, oldValue, value, nameSpace) {\n    // https://dom.spec.whatwg.org/#slotable-name\n    if (localName === TAG_SLOT && nameSpace == null) {\n        if (value === oldValue) {\n            return;\n        }\n        if (value == null && oldValue === EMPTY_STRING) {\n            return;\n        }\n        if (value === EMPTY_STRING && oldValue == null) {\n            return;\n        }\n        if (value == null || value === EMPTY_STRING) {\n            elementSetAttributeDescriptor.value.call(element, TAG_SLOT, EMPTY_STRING);\n        } else {\n            elementSetAttributeDescriptor.value.call(element, TAG_SLOT, value);\n        }\n        var parentNode = element.parentNode;\n        if (!parentNode) {\n            return;\n        }\n        var parentState = _utils2.default.getShadowState(parentNode);\n        if (!parentState || !parentState.shadowRoot) {\n            return;\n        }\n        assignSlotablesForATree(parentState.shadowRoot);\n    }\n});\n\nfunction changeAttribute(attribute, element, value) {\n    // https://dom.spec.whatwg.org/#concept-element-attributes-change\n\n    var name = attribute.localName;\n    var nameSpace = attribute.namespaceURI;\n    var oldValue = attribute.value;\n    var newValue = value;\n\n    // 1. Queue a mutation record...\n    // SKIP\n\n    // 2. If element is custom...\n    // SKIP: refactored out into attribute change steps\n\n    // 3. Run the attribute change steps...\n    for (var i = 0; i < attributeChangeSteps.length; i++) {\n        attributeChangeSteps[i](element, name, oldValue, newValue, nameSpace);\n    }\n\n    // 4. Set attribute's value...\n    if (nameSpace) {\n        elementSetAttributeNSDescriptor.value.call(element, nameSpace, attribute.prefix + ':' + name, newValue);\n    } else {\n        elementSetAttributeDescriptor.value.call(element, name, newValue);\n    }\n}\n\nfunction appendAttribute(attribute, element) {\n    // https://dom.spec.whatwg.org/#concept-element-attributes-append\n\n    var name = attribute.localName;\n    var nameSpace = attribute.namespaceURI;\n    var oldValue = null;\n    var newValue = attribute.value;\n\n    // 1. Queue a mutation record...\n    // SKIP\n\n    // 2. If element is custom...\n    // SKIP: refactored out into attribute change steps\n\n    // 3. Run the attribute change steps...\n    for (var i = 0; i < attributeChangeSteps.length; i++) {\n        attributeChangeSteps[i](element, name, oldValue, newValue, nameSpace);\n    }\n\n    // 4. Append the attribute to the elements attribute list.\n    // SKIP: handled by caller\n\n    // 5. Set attributes element to element.\n    // SKIP: native\n}\n\nfunction removeAttribute(attribute, element) {\n    // https://dom.spec.whatwg.org/#concept-element-attributes-remove\n\n    var name = attribute.localName;\n    var nameSpace = attribute.namespaceURI;\n    var oldValue = attribute.value;\n    var newValue = null;\n\n    // 1. Queue a mutation record...\n    // SKIP\n\n    // 2. If element is custom...\n    // SKIP: refactored out into attribute change steps\n\n    // 3. Run the attribute change steps...\n    for (var i = 0; i < attributeChangeSteps.length; i++) {\n        attributeChangeSteps[i](element, name, oldValue, newValue, nameSpace);\n    }\n\n    // 4. Remove attribute from the elements attribute list.\n    elementRemoveAttributeNSDescriptor.value.call(element, nameSpace, name);\n\n    // 5. Set attributes element to null.\n    // SKIP: native\n}\n\nfunction replaceAttribute(oldAttr, newAttr, element) {\n    // Used by 'set an attribute'\n    // https://dom.spec.whatwg.org/#concept-element-attributes-replace\n\n    var name = oldAttr.localName;\n    var nameSpace = oldAttr.namespaceURI;\n    var oldValue = oldAttr.value;\n    var newValue = newAttr.value;\n\n    // 1. Queue a mutation record...\n    // SKIP\n\n    // 2. If element is custom...\n    // SKIP: refactored out into attribute change steps\n\n    // 3. Run the attribute change steps...\n    for (var i = 0; i < attributeChangeSteps.length; i++) {\n        attributeChangeSteps[i](element, name, oldValue, newValue, nameSpace);\n    }\n\n    // 4. Replace oldAttr by newAttr in the elements attribute list.\n    // SKIP: handled by callers\n\n    // 5. Set oldAttrs element to null.\n    // SKIP: native\n\n    // 6. Set newAttrs element to element.\n    // SKIP: native\n}\n\nfunction setAttribute(attr, element, nativeSetAttributeNodeDescriptor) {\n    if (attr.ownerElement != null && attr.ownerElement !== element) {\n        throw _utils2.default.makeDOMException(ERROR_IN_USE_ATTRIBUTE);\n    }\n    var attributes = element.attributes;\n    var oldAttr = attributes.getNamedItemNS(attr.namespaceURI, attr.localName);\n    if (oldAttr === attr) {\n        return attr;\n    }\n    namedNodeMapSetNamedItemNSDescriptor.value.call(attributes, attr);\n    if (oldAttr) {\n        replaceAttribute(oldAttr, attr, element);\n    } else {\n        appendAttribute(attr, element);\n    }\n    return oldAttr;\n}\n\nfunction setAttributeValue(element, localName, value, prefix, ns) {\n    prefix = prefix || null;\n    ns = ns || null;\n    var attributes = element.attributes;\n    var attribute = attributes.getNamedItemNS(ns, localName);\n    if (!attribute) {\n        elementSetAttributeDescriptor.value.call(element, localName, value);\n        attribute = attributes.getNamedItemNS(ns, localName);\n        appendAttribute(attribute, element);\n        return;\n    }\n    changeAttribute(attribute, element, value);\n}\n\nfunction removeAttributeByName(qualifiedName, element) {\n    var attributes = element.attributes;\n    var attr = attributes.getNamedItem(qualifiedName);\n    if (attr) {\n        removeAttribute(attr, element);\n    }\n    return attr;\n}\n\nfunction removeAttributeByNamespace(nameSpace, localName, element) {\n    var attributes = element.attributes;\n    var attr = attributes.getNamedItemNS(nameSpace, localName);\n    if (attr) {\n        removeAttribute(attr, element);\n    }\n    return attr;\n}\n\nfunction insertAdjacent(element, where, node) {\n    if (!(node instanceof Node)) {\n        throw new TypeError();\n    }\n    var parent = void 0;\n    // https://dom.spec.whatwg.org/#insert-adjacent\n    switch ((where || EMPTY_STRING).toLowerCase()) {\n        case 'beforebegin':\n            if (parent = element.parentNode) {\n                return preInsert(node, parent, element);\n            }\n            return null;\n        case 'afterbegin':\n            return preInsert(node, element, element.firstChild);\n        case 'beforeend':\n            return preInsert(node, element, null);\n        case 'afterend':\n            if (parent = element.parentNode) {\n                return preInsert(node, parent, element.nextSibling);\n            }\n            return null;\n        default:\n            throw _utils2.default.makeDOMException(ERROR_SYNTAX);\n    }\n}\n\nfunction listOfElementsWithQualifiedName(root, qualifiedName) {\n    var results = [];\n    var firstChild = root.firstChild;\n\n    if (firstChild === null) {\n        return results;\n    }\n\n    if (qualifiedName === '*') {\n        treeOrderRecursiveSelectAll(firstChild, results, _utils2.default.isElementNode);\n        return results;\n    }\n\n    // TODO: Consider support for non-HTML documents?\n    var lowerCaseQualifiedName = qualifiedName.toLowerCase();\n    treeOrderRecursiveSelectAll(firstChild, results, function (node) {\n        if (node.nodeType !== Node.ELEMENT_NODE) {\n            return false;\n        } else if (node.namespaceURI === NS_HTML) {\n            return node.localName === lowerCaseQualifiedName;\n        } else if (node.prefix !== null) {\n            return node.prefix + ':' + node.localName === qualifiedName;\n        } else {\n            return node.localName === qualifiedName;\n        }\n    });\n\n    return results;\n}\n\nfunction listOfElementsWithNamespaceAndLocalName(root, nameSpace, localName) {\n    var results = [];\n    var firstChild = root.firstChild;\n\n    if (firstChild === null) {\n        return results;\n    }\n\n    if (nameSpace === '') {\n        nameSpace = null;\n    }\n\n    if (nameSpace === '*' && localName === '*') {\n        treeOrderRecursiveSelectAll(firstChild, results, _utils2.default.isElementNode);\n        return results;\n    }\n\n    if (nameSpace === '*') {\n        treeOrderRecursiveSelectAll(firstChild, results, function (node) {\n            return node.nodeType === Node.ELEMENT_NODE && node.localName === localName;\n        });\n        return results;\n    }\n\n    if (localName === '*') {\n        treeOrderRecursiveSelectAll(firstChild, results, function (node) {\n            return node.nodeType === Node.ELEMENT_NODE && node.namespaceURI === nameSpace;\n        });\n        return results;\n    }\n\n    treeOrderRecursiveSelectAll(firstChild, results, function (node) {\n        return node.nodeType === Node.ELEMENT_NODE && node.namespaceURI === nameSpace && node.localName === localName;\n    });\n    return results;\n}\n\nfunction listOfElementsWithClassNames(root, names) {\n    var results = [];\n    var firstChild = root.firstChild;\n\n    if (firstChild === null) {\n        return results;\n    }\n\n    var classes = _utils2.default.getUniqueSortedTokens(names);\n\n    if (classes === null) {\n        return results;\n    }\n\n    treeOrderRecursiveSelectAll(firstChild, results, function (node) {\n        if (node.nodeType !== Node.ELEMENT_NODE) {\n            return false;\n        }\n        var nodeClassNames = _utils2.default.getUniqueSortedTokens(node.className);\n        return nodeClassNames !== null && _utils2.default.hasAll(classes, nodeClassNames);\n    });\n\n    return results;\n}\n\n// https://dom.spec.whatwg.org/#attr\n\nfunction setExistingAttributeValue(attribute, value) {\n    if (attribute.ownerElement == null) {\n        attrValueDescriptor.set.call(attribute, value);\n    } else {\n        changeAttribute(attribute, attribute.ownerElement, value);\n    }\n}\n\n// https://dom.spec.whatwg.org/#finding-slots-and-slotables\n\nfunction findASlot(slotable, open) {\n    // https://dom.spec.whatwg.org/#find-a-slot\n    // To find a slot for a given slotable slotable and an optional \n    // open flag (unset unless stated otherwise), run these steps:\n\n    // 1. If slotables parent is null, then return null.\n    var parent = slotable.parentNode;\n    if (!parent) {\n        return null;\n    }\n\n    // 2. Let shadow be slotables parents shadow root.\n    var parentState = _utils2.default.getShadowState(parent);\n\n    // 3. If shadow is null, then return null.\n    if (!parentState || !parentState.shadowRoot) {\n        return null;\n    }\n\n    // 4. If the open flag is set and shadows mode is not \"open\", then return null.\n    if (open === true && parentState.shadowRoot.mode !== SHADOW_MODE_OPEN) {\n        return null;\n    }\n\n    // 5. Return the first slot in shadows tree whose name is slotables name, if any, and null otherwise.\n    if (!parentState.shadowRoot.firstChild) {\n        return null;\n    }\n\n    var name = slotable instanceof Element ? slotable.slot : EMPTY_STRING;\n\n    return treeOrderRecursiveSelectFirst(parentState.shadowRoot.firstChild, function (node) {\n        return isSlot(node) && node.name === name;\n    });\n}\n\nfunction findSlotables(slot) {\n    // https://dom.spec.whatwg.org/#find-slotables\n    // To find slotables for a given slot slot, run these steps:\n\n    // 1. Let result be an empty list.\n    // PERF: allocations later on in algorithm\n    var result = void 0;\n\n    // 2. If slots root is not a shadow root, then return result.\n    var slotRoot = root(slot);\n    if (!isShadowRoot(slotRoot)) {\n        // PERF: 'an empty list' from step 1\n        return [];\n    }\n\n    // 3. Let host be slots roots host.\n    var host = slotRoot.host;\n\n    // 4. For each slotable child of host, slotable, in tree order, run these substeps:\n    var slotableChildren = host.childNodes;\n    // PERF: allocation of result\n    result = new Array(slotableChildren.length);\n    var pushed = 0;\n    for (var i = 0; i < slotableChildren.length; i++) {\n        var slotable = slotableChildren[i];\n        if (slotable.nodeType === Node.ELEMENT_NODE || slotable.nodeType === Node.TEXT_NODE) {\n            // 1. Let foundSlot be the result of finding a slot given slotable.\n            var foundSlot = findASlot(slotable);\n            // 2. If foundSlot is slot, then append slotable to result.\n            if (foundSlot === slot) {\n                result[pushed++] = slotable;\n            }\n        }\n    }\n    // PERF: set the actual length\n    result.length = pushed;\n\n    // 5. Return result.\n    return result;\n}\n\nfunction findFlattenedSlotables(slot) {\n    // https://dom.spec.whatwg.org/#find-flattened-slotables\n    // To find flattened slotables for a given slot slot, run these steps:\n\n    // 1. Let result be an empty list.\n    var result = [];\n\n    // 2. Let slotables be the result of finding slotables given slot.\n    var slotables = findSlotables(slot);\n\n    // 3. If slotables is the empty list, then append each slotable child of slot, in tree order, to slotables.\n    if (slotables.length === 0) {\n        var slotableChildren = slot.childNodes;\n        var slotableChildrenLength = slotableChildren.length;\n        slotables.length = slotableChildrenLength;\n        var slotablesPushed = 0;\n        for (var i = 0; i < slotableChildrenLength; i++) {\n            var slotableChild = slotableChildren[i];\n            if (slotableChild.nodeType === Node.ELEMENT_NODE || slotableChild.nodeType === Node.TEXT_NODE) {\n                slotables[slotablesPushed++] = slotableChild;\n            }\n        }\n        slotables.length = slotablesPushed;\n    }\n\n    // 4. For each node in slotables, run these substeps:\n    for (var _i3 = 0; _i3 < slotables.length; _i3++) {\n        var node = slotables[_i3];\n        // 1. If node is a slot, run these subsubsteps:\n        if (isSlot(node)) {\n            var temporaryResult = findFlattenedSlotables(node);\n            var resultLength = resultLength;\n            result.length += temporaryResult.length;\n            for (var j = 0; j < temporaryResult.length; j++) {\n                result[resultLength + j] = temporaryResult[k];\n            }\n        } else {\n            result[result.length] = node;\n        }\n    }\n\n    // 5. Return result.\n    return result;\n}\n\n// https://dom.spec.whatwg.org/#assigning-slotables-and-slots\n\n// Using custom algorithms instead.\n\nfunction assignSlotableToSlot(slotable, slot, suppressSignaling) {\n    var slotableState = _utils2.default.getShadowState(slotable);\n    slotableState.assignedSlot = slot;\n\n    var slotState = _utils2.default.getShadowState(slot) || _utils2.default.setShadowState(slot, {});\n    var assignedNodes = slotState.assignedNodes = slotState.assignedNodes || [];\n    var assignedNodesCount = assignedNodes.length;\n\n    if (!suppressSignaling) {\n        _mutationObservers2.default.signalASlotChange(slot);\n    }\n\n    if (assignedNodesCount === 0) {\n        assignedNodes.push(slotable);\n\n        // rendering\n        if (!slotState.childNodes) {\n            slotState.childNodes = Array.prototype.slice.call(slot.childNodes);\n            var _fallbackNodes = slotState.childNodes;\n            var _fallbackNodesCount = _fallbackNodes.length;\n            for (var i = 0; i < _fallbackNodesCount; i++) {\n                var fallbackNode = _fallbackNodes[i];\n                var fallbackNodeState = _utils2.default.getShadowState(fallbackNode) || _utils2.default.setShadowState(fallbackNode, {});\n                fallbackNodeState.parentNode = slot;\n            }\n        }\n        var fallbackNodes = slotState.childNodes;\n        var fallbackNodesCount = fallbackNodes.length;\n        for (var _i4 = 0; _i4 < fallbackNodesCount; _i4++) {\n            nodeRemoveChildDescriptor.value.call(slot, fallbackNodes[_i4]);\n        }\n        nodeAppendChildDescriptor.value.call(slot, slotable);\n    } else {\n        var referenceNode = null;\n        var referenceNodeIndex = 0;\n        for (var _i5 = 0; _i5 < assignedNodesCount; _i5++) {\n            var assignedNode = assignedNodes[_i5];\n            if (assignedNode.compareDocumentPosition(slotable) === Node.DOCUMENT_POSITION_FOLLOWING) {\n                break;\n            }\n            referenceNodeIndex++;\n        }\n        assignedNodes.splice(referenceNodeIndex, 0, slotable);\n\n        // rendering\n        nodeInsertBeforeDescriptor.value.call(slot, slotable, referenceNode);\n    }\n}\n\nfunction unassignSlotableFromSlot(slotable, slot, suppressSignaling) {\n    var slotableState = _utils2.default.getShadowState(slotable);\n    slotableState.assignedSlot = null;\n\n    var slotState = _utils2.default.getShadowState(slot);\n    var slotAssignedNodes = slotState.assignedNodes;\n    slotAssignedNodes.splice(slotAssignedNodes.indexOf(slotable), 1);\n\n    if (!suppressSignaling) {\n        _mutationObservers2.default.signalASlotChange(slot);\n    }\n\n    // rendering\n    nodeRemoveChildDescriptor.value.call(slot, slotable);\n    if (slotAssignedNodes.length === 0) {\n        var fallbackNodes = slotState.childNodes;\n        var fallbackNodesCount = fallbackNodes.length;\n        for (var i = 0; i < fallbackNodesCount; i++) {\n            nodeAppendChildDescriptor.value.call(slot, fallbackNodes[i]);\n        }\n    }\n}\n\nfunction assignSlotablesForATree(tree, noSignalSlots) {\n    // Gather slots\n    var slots = [];\n    treeOrderRecursiveSelectAll(tree, slots, isSlot);\n    var slotCount = slots.length;\n\n    // Gather slotables and set their assigned slots\n    var hostChildNodes = tree.host.childNodes;\n    var hostChildNodesCount = hostChildNodes.length;\n    for (var i = 0; i < hostChildNodesCount; i++) {\n        var slotable = hostChildNodes[i];\n        if (!isSlotable(slotable)) {\n            continue;\n        }\n        var slotableState = _utils2.default.getShadowState(slotable);\n        var oldAssignedSlot = slotableState.assignedSlot;\n        var newAssignedSlot = null;\n        var name = slotable instanceof Element ? slotable.slot : EMPTY_STRING;\n        for (var j = 0; j < slots.length; j++) {\n            var slot = slots[j];\n            if (slot.name === name) {\n                newAssignedSlot = slot;\n                break;\n            }\n        }\n        if (newAssignedSlot !== oldAssignedSlot) {\n            if (oldAssignedSlot) {\n                var suppress = !noSignalSlots || noSignalSlots.indexOf(oldAssignedSlot) === -1;\n                unassignSlotableFromSlot(slotable, oldAssignedSlot, suppress);\n            }\n            if (newAssignedSlot) {\n                var _suppress = !noSignalSlots || noSignalSlots.indexOf(newAssignedSlot) === -1;\n                assignSlotableToSlot(slotable, newAssignedSlot, _suppress);\n            }\n        }\n    }\n}\n\n// https://dom.spec.whatwg.org/#mutation-algorithms\n\nfunction ensurePreInsertionValidity(node, parent, child) {\n    // https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n    // To ensure pre-insertion validity of a node into a parent before a child, run these steps:\n\n    // 1. If parent is not a Document, DocumentFragment, or Element node, throw a HierarchyRequestError.\n    // SKIP: native\n\n    // 2. If node is a host-including inclusive ancestor of parent, throw a HierarchyRequestError.\n    if (hostIncludingInclusiveAncestor(node, parent)) {\n        throw _utils2.default.makeDOMException(ERROR_HIERARCHY_REQUEST);\n    }\n\n    // 3. If child is not null and its parent is not parent, then throw a NotFoundError.\n    if (child != null && child.parentNode !== parent) {\n        throw _utils2.default.makeDOMException(ERROR_NOT_FOUND);\n    }\n\n    // 4. If node is not a DocumentFragment, DocumentType, Element, Text, ProcessingInstruction, \n    // or Comment node, throw a HierarchyRequestError.\n    // SKIP: native\n\n    // 5. If either node is a Text node and parent is a document, or node is a doctype \n    // and parent is not a document, throw a HierarchyRequestError.\n    // SKIP: native\n\n    // 6. If parent is a document, and any of the statements below, switched on node, \n    // are true, throw a HierarchyRequestError.\n    // SKIP: native\n}\n\nfunction preInsert(node, parent, child) {\n    // https://dom.spec.whatwg.org/#concept-node-pre-insert\n    // To pre-insert a node into a parent before a child, run these steps:\n\n    // 1. Ensure pre-insertion validity of node into parent before child.\n    ensurePreInsertionValidity(node, parent, child);\n\n    // 2. Let reference child be child.\n    var referenceChild = child;\n\n    // 3. If reference child is node, set it to nodes next sibling.\n    referenceChild === node && (referenceChild = node.nextSibling);\n\n    // 4. Adopt node into parents node document.\n    // https://dom.spec.whatwg.org/#concept-node-adopt\n    adopt(node, parent.ownerDocument);\n\n    // 5. Insert node into parent before reference child.\n    // https://dom.spec.whatwg.org/#concept-node-insert\n    insert(node, parent, referenceChild);\n\n    // 6. Return node.\n    return node;\n}\n\nfunction insert(node, parent, child, suppressObservers) {\n    _mutationObservers2.default.requeueNativeRecords();\n    // https://dom.spec.whatwg.org/#concept-node-insert\n    // To insert a node into a parent before a child, with an optional suppress observers flag, run these steps:\n\n    // 1. Let count be the number of children of node if it is a DocumentFragment node, and one otherwise.\n    var count = 1;\n    var nodeChildNodes = void 0;\n    if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n        nodeChildNodes = node.childNodes;\n        count = nodeChildNodes.length;\n    }\n\n    // 2. If child is non-null, run these substeps:\n    // TODO: (Range)\n\n    // 3. Let nodes be nodes children if node is a DocumentFragment node, \n    // and a list containing solely node otherwise.\n    var nodes = new Array(count);\n\n    // 4. If node is a DocumentFragment node, remove its children with the suppress observers flag set.\n    if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n        for (var i = 0; i < count; i++) {\n            nodes[i] = nodeChildNodes[i];\n        }\n        // If it's the parsing fragment, avoid some overhead.\n        if (node === parsingFragment) {\n            for (var _i6 = 0; _i6 < count; _i6++) {\n                nodeRemoveChildDescriptor.value.call(node, nodes[_i6]);\n            }\n        } else {\n            for (var _i7 = 0; _i7 < count; _i7++) {\n                remove(nodes[_i7], node, true);\n            }\n            // 5. If node is a DocumentFragment node, queue a mutation record of \"childList\" for node with removedNodes nodes.\n            _mutationObservers2.default.queueMutationRecord(MO_TYPE_CHILD_LIST, node, null, null, null, null, nodes);\n        }\n    } else {\n        nodes[0] = node;\n    }\n\n    // 6. For each node in nodes, in tree order, run these substeps:\n    var parentState = _utils2.default.getShadowState(parent);\n    var parentStateChildNodes = parentState ? parentState.childNodes : null;\n    var parentIsConnected = parent.isConnected;\n    var parentIsShadowRoot = isShadowRoot(parent);\n    var parentTree = root(parent);\n    for (var _i8 = 0; _i8 < count; _i8++) {\n        var _node = nodes[_i8];\n        // 1. Insert node into parent before child or at the end of parent if child is null.\n        if (parentStateChildNodes) {\n            if (child) {\n                var childIndex = parentStateChildNodes.indexOf(child);\n                parentStateChildNodes.splice(childIndex, 0, _node);\n            } else {\n                parentStateChildNodes.push(_node);\n            }\n            var nodeState = _utils2.default.getShadowState(_node) || _utils2.default.setShadowState(_node, {});\n            nodeState.parentNode = parent;\n            // If it's a shadow root, perform physical insert on the host.\n            if (parentIsShadowRoot) {\n                nodeInsertBeforeDescriptor.value.call(parentState.host, _node, child);\n            }\n        } else {\n            nodeInsertBeforeDescriptor.value.call(parent, _node, child);\n        }\n\n        // 2. If parent is a shadow host and node is a slotable, then assign a slot for node.\n        if (parentState && parentState.shadowRoot && isSlotable(_node)) {\n            var slot = findASlot(_node);\n            if (slot) {\n                assignSlotableToSlot(_node, slot);\n            }\n        }\n\n        // 3. If parent is a slot whose assigned nodes is the empty list, \n        // then run signal a slot change for parent.\n        if (isSlot(parent) && parent.assignedNodes().length === 0) {\n            _mutationObservers2.default.signalASlotChange(parent);\n        }\n\n        // 4. Run assign slotables for a tree with nodes tree and a set containing \n        // each inclusive descendant of node that is a slot.\n        if (isShadowRoot(parentTree)) {\n            var inclusiveSlotDescendants = isSlot(_node) ? [_node] : [];\n            treeOrderRecursiveSelectAll(_node, inclusiveSlotDescendants, isSlot);\n            if (inclusiveSlotDescendants.length) {\n                assignSlotablesForATree(parentTree, inclusiveSlotDescendants);\n            }\n        }\n\n        // 5. For each shadow-including inclusive descendant inclusiveDescendant of node, \n        // in shadow-including tree order, run these subsubsteps:\n        forEachShadowIncludingInclusiveDescendant(_node, function (inclusiveDescendant) {\n            // 1. Run the insertion steps with inclusiveDescendant\n            for (var _i9 = 0; _i9 < insertingSteps.length; _i9++) {\n                insertingSteps[_i9](inclusiveDescendant);\n            }\n\n            // 2. If inclusiveDescendant is connected, then...\n            // SKIP: refactored out into the inserting steps.\n        });\n    }\n\n    // 7. If suppress observers flag is unset, queue a mutation record of \"childList\" for parent \n    // with addedNodes nodes, nextSibling child, and previousSibling childs previous sibling or \n    // parents last child if child is null.\n    if (!suppressObservers) {\n        var previousSibling = child ? child.previousSibling : parent.lastChild;\n        _mutationObservers2.default.queueMutationRecord(MO_TYPE_CHILD_LIST, parent, null, null, null, nodes, null, previousSibling, child);\n    }\n}\n\nfunction append(node, parent) {\n    // https://dom.spec.whatwg.org/#concept-node-append\n    // To append a node to a parent, pre-insert node into parent before null.\n    return preInsert(node, parent, null);\n}\n\nfunction replace(child, node, parent) {\n    // https://dom.spec.whatwg.org/#concept-node-replace\n    // To replace a child with node within a parent, run these steps:\n\n    // 1. If parent is not a Document, DocumentFragment, or Element node, throw a HierarchyRequestError.\n    // SKIP: native\n\n    // 2. If node is a host-including inclusive ancestor of parent, throw a HierarchyRequestError.\n    if (hostIncludingInclusiveAncestor(node, parent)) {\n        throw _utils2.default.makeDOMException(ERROR_HIERARCHY_REQUEST);\n    }\n\n    // 3. If childs parent is not parent, then throw a NotFoundError.\n    if (child.parentNode !== parent) {\n        throw _utils2.default.makeDOMException(ERROR_NOT_FOUND);\n    }\n\n    // 4. If node...\n    // SKIP: native\n\n    // 5. If either node...\n    // SKIP: native\n\n    // 6. If parent...\n    // SKIP: native\n\n    // 7. Let reference child be childs next sibling.\n    var referenceChild = child.nextSibling;\n\n    // 8. If reference child is node, set it to nodes next sibling.\n    if (referenceChild === node) {\n        referenceChild = node.nextSibling;\n    }\n\n    // 9. Let previousSibling be childs previous sibling.\n    var previousSibling = child.previousSibling;\n\n    // 10. Adopt node into parents node document.\n    adopt(node, parent.ownerDocument);\n\n    // 11. Let removedNodes be the empty list.\n    var removedNodes = [];\n\n    // 12. If childs parent is not null, run these substeps:\n    var childParent = child.parentNode;\n    if (childParent != null) {\n        // 1. Set removedNodes to a list solely containing child.\n        removedNodes[0] = child;\n        // 2. Remove child from its parent with the suppress observers flag set.\n        remove(child, parent, true);\n    }\n\n    // 13. Let nodes be nodes children if node is a DocumentFragment node, and a list containing solely node otherwise.\n    var nodes = void 0;\n    if (node instanceof DocumentFragment) {\n        var childNodes = node.childNodes;\n        var childNodesLength = childNodes.length;\n        nodes = new Array(childNodesLength);\n        for (var i = 0; i < childNodesLength; i++) {\n            nodes[i] = childNodes[i];\n        }\n    } else {\n        nodes = [node];\n    }\n\n    // 14. Insert node into parent before reference child with the suppress observers flag set.\n    insert(node, parent, referenceChild, true);\n\n    // 15. Queue a mutation record of \"childList\" for target parent with addedNodes nodes, \n    // removedNodes removedNodes, nextSibling reference child, and previousSibling previousSibling.\n    _mutationObservers2.default.queueMutationRecord(MO_TYPE_CHILD_LIST, parent, null, null, null, nodes, removedNodes, previousSibling, referenceChild);\n}\n\nfunction replaceAll(node, parent) {\n    // https://dom.spec.whatwg.org/#concept-node-replace-all\n    // To replace all with a node within a parent, run these steps:\n\n    // 1. If node is not null, adopt node into parents node document.\n    if (node != null) {\n        adopt(node, parent.ownerDocument);\n    }\n\n    // 2. Let removedNodes be parents children.\n    var parentChildNodes = parent.childNodes;\n    var removedNodesCount = parentChildNodes.length;\n    var removedNodes = new Array(removedNodesCount);\n    for (var i = 0; i < removedNodesCount; i++) {\n        removedNodes[i] = parentChildNodes[i];\n    }\n\n    // 3. Let addedNodes be the empty list if node is null, nodes children if \n    // node is a DocumentFragment node, and a list containing node otherwise.\n    var addedNodes = void 0;\n    if (node == null) {\n        addedNodes = [];\n    } else if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n        var nodeChildNodes = node.childNodes;\n        var nodeChildNodesLength = nodeChildNodes.length;\n        addedNodes = new Array(nodeChildNodesLength);\n        for (var _i10 = 0; _i10 < nodeChildNodesLength; _i10++) {\n            addedNodes[_i10] = nodeChildNodes[_i10];\n        }\n    } else {\n        addedNodes = [node];\n    }\n\n    // 4. Remove all parents children, in tree order, with the suppress observers flag set.\n    for (var _i11 = 0; _i11 < removedNodesCount; _i11++) {\n        remove(removedNodes[_i11], parent, true);\n    }\n\n    // 5. If node is not null, insert node into parent before null with the suppress observers flag set.\n    if (node != null) {\n        insert(node, parent, null, true);\n    }\n\n    // 6. Queue a mutation record of \"childList\" for parent with addedNodes addedNodes and removedNodes removedNodes.\n    _mutationObservers2.default.queueMutationRecord(MO_TYPE_CHILD_LIST, parent, null, null, null, addedNodes, removedNodes);\n}\n\nfunction preRemove(child, parent) {\n    // https://dom.spec.whatwg.org/#concept-node-pre-remove\n    // To pre-remove a child from a parent, run these steps:\n\n    // 1. If childs parent is not parent, then throw a NotFoundError.\n    if (child.parentNode !== parent) {\n        throw _utils2.default.makeDOMException(ERROR_NOT_FOUND);\n    }\n\n    // 2. Remove child from parent.\n    remove(child, parent);\n\n    // 3. Return child.\n    return child;\n}\n\nfunction remove(node, parent, suppressObservers) {\n    _mutationObservers2.default.requeueNativeRecords();\n    // https://dom.spec.whatwg.org/#concept-node-remove\n    // To remove a node from a parent, with an optional suppress observers flag, run these steps:\n\n    // TODO: (Range)\n    // 1. Let index be nodes index.\n    // 2. For each range whose start node is an inclusive descendant of node, set its start to (parent, index).\n    // 3. For each range whose end node is an inclusive descendant of node, set its end to (parent, index).\n    // 4. For each range whose start node is parent and start offset is greater than index, decrease its start offset by one.\n    // 5. For each range whose end node is parent and end offset is greater than index, decrease its end offset by one.\n\n    // TODO: (NodeIterator)\n    // 6. For each NodeIterator object iterator whose roots node document is nodes node document, \n    // run the NodeIterator pre-removing steps given node and iterator.\n\n    // 7. Let oldPreviousSibling be nodes previous sibling.\n    var oldPreviousSibling = node.previousSibling;\n\n    // 8. Let oldNextSibling be nodes next sibling.\n    var oldNextSibling = node.nextSibling;\n\n    // 9. Remove node from its parent.\n    var nodeState = _utils2.default.getShadowState(node);\n    var parentState = _utils2.default.getShadowState(parent);\n    if (parentState && parentState.childNodes) {\n        var nodeIndex = parentState.childNodes.indexOf(node);\n        parentState.childNodes.splice(nodeIndex, 1);\n        // Should always have nodeState if we got here.\n        nodeState.parentNode = null;\n        if (isShadowRoot(parent)) {\n            nodeRemoveChildDescriptor.value.call(parent.host, node);\n        }\n    } else {\n        nodeRemoveChildDescriptor.value.call(parent, node);\n    }\n\n    // 10. If node is assigned, then run assign slotables for nodes assigned slot.\n    if (nodeState && nodeState.assignedSlot) {\n        // NOTE: Using our own algorithm here instead\n        unassignSlotableFromSlot(node, nodeState.assignedSlot);\n    }\n\n    var parentTree = root(parent);\n    if (isShadowRoot(parentTree)) {\n        // 11. If parent is a slot whose assigned nodes is the empty list,\n        // then run signal a slot change for parent.\n        // SKIP: This is already taken care of by our algorithm in step 10.\n\n        // 12. If node has an inclusive descendant that is a slot, then:\n        // 1. Run assign slotables for a tree with parents tree.\n        // 2. Run assign slotables for a tree with nodes tree and a \n        // set containing each inclusive descendant of node that is a slot.\n        var inclusiveSlotDescendants = isSlot(node) ? [node] : [];\n        treeOrderRecursiveSelectAll(node, inclusiveSlotDescendants, isSlot);\n        if (inclusiveSlotDescendants.length) {\n            // NOTE: Using our own algorithm here instead\n            // TODO: Test to make sure that our algorithm takes care of clearing\n            // the assigned nodes of any of these descendants.\n            assignSlotablesForATree(parentTree);\n        }\n    }\n\n    // 13. Run the removing steps with node and parent.\n    forEachShadowIncludingInclusiveDescendant(node, function (inclusiveDescendant) {\n        for (var i = 0; i < removingSteps.length; i++) {\n            removingSteps[i](inclusiveDescendant, parent);\n        }\n    });\n\n    // 14. If node is custom, then enqueue a custom element callback reaction \n    // with node, callback name \"disconnectedCallback\", and an empty argument list.\n    // SKIP: refactored out into removing steps\n\n    // 15. For each shadow-including descendant descendant of node, in \n    // shadow-including tree order, run these substeps:\n    // SKIP: refactored out into removing steps\n\n    // 16. For each inclusive ancestor inclusiveAncestor of parent...\n    var inclusiveAncestor = parent;\n    while (inclusiveAncestor) {\n        // ...if inclusiveAncestor has any registered observers whose options' \n        // subtree is true, then for each such registered observer registered... \n        var ancestorState = _utils2.default.getShadowState(inclusiveAncestor);\n        if (ancestorState && ancestorState.observers) {\n            var ancestorObservers = ancestorState.observers;\n            var ancestorObserversCount = ancestorObservers.length;\n            for (var i = 0; i < ancestorObserversCount; i++) {\n                var registeredObserver = ancestorObservers[i];\n                if (registeredObserver.options.subtree) {\n                    // ...append a transient registered observer whose observer and options are \n                    // identical to those of registered and source which is registered to nodes \n                    // list of registered observers.\n                    var observer = registeredObserver.instance;\n                    var options = registeredObserver.options;\n                    var transientObserver = _mutationObservers2.default.createTransientObserver(observer, node, options);\n                    ancestorObservers.push({ instance: transientObserver, options: options });\n                }\n            }\n        }\n        inclusiveAncestor = inclusiveAncestor.parentNode;\n    }\n\n    // 17. If suppress observers flag is unset, queue a mutation record of \"childList\" \n    // for parent with removedNodes a list solely containing node, nextSibling \n    // oldNextSibling, and previousSibling oldPreviousSibling.\n    if (!suppressObservers) {\n        _mutationObservers2.default.queueMutationRecord(MO_TYPE_CHILD_LIST, parent, null, null, null, null, [node], oldPreviousSibling, oldNextSibling);\n    }\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _dom = require('../dom.js');\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _customElements = require('../custom-elements.js');\n\nvar _customElements2 = _interopRequireDefault(_customElements);\n\nvar _utils = require('../utils.js');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    install: install,\n    patchAttributeNodeIfNeeded: patchAttributeNodeIfNeeded\n}; // https://dom.spec.whatwg.org/#interface-attr\n\nfunction install() {\n    if (!_utils2.default.brokenAccessors) {\n        var originalValueDescriptor = _utils2.default.descriptor(Attr, 'value');\n        var newValueDescriptor = {\n            get: originalValueDescriptor.get,\n            set: function set(value) {\n                var _this = this;\n\n                return _customElements2.default.executeCEReactions(function () {\n                    _dom2.default.setExistingAttributeValue(_this, value);\n                });\n            }\n        };\n        _utils2.default.defineProperty(Attr.prototype, 'value', newValueDescriptor);\n    }\n\n    // TODO: need to ensure that parser-inserted 'slot[name]' and '*[slot]' elements'\n    // name and slot attribute nodes are patched. Not high priority but worth\n    // keeping track of.\n}\n\nfunction patchAttributeNode(attribute) {\n    _utils2.default.defineProperty(attribute, 'value', {\n        get: function get() {\n            if (!this.ownerElement) {\n                delete this.value;\n                var result = this.value;\n                return result;\n            }\n            if (this.namespaceURI) {\n                return this.ownerElement.getAttributeNS(this.namespaceURI, this.localName);\n            }\n            return this.ownerElement.getAttribute(this.localName);\n        },\n        set: function set(value) {\n            var _this2 = this;\n\n            if (!this.ownerElement) {\n                delete this.value;\n                var result = this.value = value;\n                return result;\n            }\n            return _customElements2.default.executeCEReactions(function () {\n                return _dom2.default.setExistingAttributeValue(_this2, value);\n            });\n        }\n    });\n}\n\nfunction patchAttributeNodeIfNeeded(attribute) {\n    if (_utils2.default.brokenAccessors) {\n        patchAttributeNode(attribute);\n    }\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = $CustomEvent;\n\nvar _utils = require('../utils.js');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction $CustomEvent(type, init) {\n    var bubbles = false;\n    var cancelable = false;\n    var composed = false;\n    var detail = null;\n    if (init) {\n        bubbles = init.bubbles === true;\n        cancelable = init.cancelable === true;\n        composed = init.composed === true;\n        detail = init.detail || null;\n    }\n    var event = document.createEvent('CustomEvent');\n    event.initCustomEvent(type, bubbles, cancelable, detail);\n    Object.defineProperty(event, 'composed', {\n        enumerable: true,\n        configurable: true,\n        get: function get() {\n            return composed;\n        }\n    });\n    return event;\n} // https://dom.spec.whatwg.org/#interface-customevent\n\n$CustomEvent.prototype = window.CustomEvent.prototype;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _dom = require('../dom.js');\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _customElements = require('../custom-elements.js');\n\nvar _customElements2 = _interopRequireDefault(_customElements);\n\nvar _mutationObservers = require('../mutation-observers.js');\n\nvar _mutationObservers2 = _interopRequireDefault(_mutationObservers);\n\nvar _utils = require('../utils.js');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// https://dom.spec.whatwg.org/#interface-document\n\nvar originalCreateCDATASection = Document.prototype.createCDATASection;\nvar originalCreateComment = Document.prototype.createComment;\nvar originalCreateDocumentFragment = Document.prototype.createDocumentFragment;\nvar originalCreateElement = Document.prototype.createElement;\nvar originalCreateElementNS = Document.prototype.createElementNS;\nvar originalCreateProcessingInstruction = Document.prototype.createProcessingInstruction;\nvar originalCreateTextNode = Document.prototype.createTextNode;\n\nexports.default = {\n    createCDATASection: function createCDATASection(data) {\n        var section = originalCreateCDATASection.call(this, data);\n        _mutationObservers2.default.registerForMutationObservers(section);\n        return section;\n    },\n    createComment: function createComment(data) {\n        var comment = originalCreateComment.call(this, data);\n        _mutationObservers2.default.registerForMutationObservers(comment);\n        return comment;\n    },\n    createDocumentFragment: function createDocumentFragment() {\n        var fragment = originalCreateDocumentFragment.call(this);\n        _mutationObservers2.default.registerForMutationObservers(fragment);\n        return fragment;\n    },\n    createElement: function createElement(name, options) {\n        var element = originalCreateElement.call(this, name, options);\n        _mutationObservers2.default.registerForMutationObservers(element);\n        return element;\n    },\n    createElementNS: function createElementNS(namespaceURI, qualifiedName, options) {\n        var element = originalCreateElementNS.call(this, namespaceURI, qualifiedName, options);\n        _mutationObservers2.default.registerForMutationObservers(element);\n        return element;\n    },\n    createProcessingInstruction: function createProcessingInstruction(target, data) {\n        var instruction = originalCreateProcessingInstruction.call(this, target, data);\n        _mutationObservers2.default.registerForMutationObservers(instruction);\n        return instruction;\n    },\n    createTextNode: function createTextNode(data) {\n        var text = originalCreateTextNode.call(this, data);\n        _mutationObservers2.default.registerForMutationObservers(text);\n        return text;\n    },\n    getElementsByTagName: function getElementsByTagName(qualifiedName) {\n        return _dom2.default.listOfElementsWithQualifiedName(this, qualifiedName);\n    },\n    getElementsByTagNameNS: function getElementsByTagNameNS(nameSpace, localName) {\n        return _dom2.default.listOfElementsWithNamespaceAndLocalName(this, nameSpace, localName);\n    },\n    getElementsByClassName: function getElementsByClassName(names) {\n        return _dom2.default.listOfElementsWithClassNames(this, names);\n    },\n\n\n    // TODO: tests\n    importNode: function importNode(node, deep) {\n        var _this = this;\n\n        return _customElements2.default.executeCEReactions(function () {\n            if (node.nodeType === Node.DOCUMENT_NODE || _dom2.default.isShadowRoot(node)) {\n                throw _utils2.default.makeDOMException('NotSupportedError');\n            }\n\n            return _dom2.default.clone(node, _this, deep);\n        });\n    },\n\n\n    // TODO: tests\n    adoptNode: function adoptNode(node) {\n        var _this2 = this;\n\n        return _customElements2.default.executeCEReactions(function () {\n            return _dom2.default.adopt(node, _this2);\n        });\n    }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _dom = require('../dom.js');\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _customElements = require('../custom-elements.js');\n\nvar _customElements2 = _interopRequireDefault(_customElements);\n\nvar _utils = require('../utils.js');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _Attr = require('../interfaces/Attr.js');\n\nvar _Attr2 = _interopRequireDefault(_Attr);\n\nvar _ShadowRoot = require('../interfaces/ShadowRoot.js');\n\nvar _ShadowRoot2 = _interopRequireDefault(_ShadowRoot);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    install: function install() {\n        // Element.matches(selectors) polyfill from MDN\n        // https://developer.mozilla.org/en-US/docs/Web/API/Element/matches#Polyfill\n        // Purposefully chop out the polyfill function that uses querySelectorAll.\n        if (!Element.prototype.matches) {\n            Element.prototype.matches = Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector;\n        }\n\n        if (_utils2.default.brokenAccessors) {\n            (function () {\n                var attributesDescriptor = {\n                    get: function get() {\n                        delete HTMLElement.prototype['attributes'];\n                        var attributes = this.attributes;\n                        _utils2.default.defineProperty(HTMLElement.prototype, 'attributes', attributesDescriptor);\n                        var shadowState = _utils2.default.getShadowState(attributes);\n                        if (!shadowState) {\n                            _utils2.default.setShadowState(attributes, { element: this });\n                        }\n                        return attributes;\n                    }\n                };\n\n                _utils2.default.extend(Element, elementMixin);\n                _utils2.default.extend(HTMLElement, htmlElementMixin);\n                _utils2.default.defineProperty(HTMLElement.prototype, 'attributes', attributesDescriptor);\n            })();\n        } else {\n            var _attributesDescriptor = {\n                get: function get() {\n                    var attributes = elementAttributesDescriptor.get.call(this);\n                    var shadowState = _utils2.default.getShadowState(attributes);\n                    if (!shadowState) {\n                        _utils2.default.setShadowState(attributes, { element: this });\n                    }\n                    return attributes;\n                }\n            };\n\n            _utils2.default.extend(Element, elementMixin);\n            _utils2.default.extend(Element, htmlElementMixin);\n            _utils2.default.defineProperty(Element.prototype, 'attributes', _attributesDescriptor);\n\n            // Cleanup for IE, Edge\n            _utils2.default.deleteProperty(HTMLElement, 'children');\n            _utils2.default.deleteProperty(HTMLElement, 'parentElement');\n            _utils2.default.deleteProperty(HTMLElement, 'innerHTML');\n            _utils2.default.deleteProperty(HTMLElement, 'outerHTML');\n            _utils2.default.deleteProperty(HTMLElement, 'contains');\n            _utils2.default.deleteProperty(HTMLElement, 'insertAdjacentText');\n            _utils2.default.deleteProperty(HTMLElement, 'insertAdjacentElement');\n            _utils2.default.deleteProperty(HTMLElement, 'insertAdjacentHTML');\n        }\n    }\n}; // https://dom.spec.whatwg.org/#interface-element\n\nvar elementSetAttributeDescriptor = _utils2.default.descriptor(Element, 'setAttribute');\nvar elementSetAttributeNSDescriptor = _utils2.default.descriptor(Element, 'setAttributeNS');\nvar nodeRemoveChildDescriptor = _utils2.default.descriptor(Node, 'removeChild');\nvar elementAttributesDescriptor = _utils2.default.descriptor(Element, 'attributes') || _utils2.default.descriptor(Node, 'attributes');\n\nvar elementMixin = {\n\n    get slot() {\n        return this.hasAttribute('slot') ? this.getAttribute('slot') : '';\n    },\n\n    set slot(value) {\n        this.setAttribute('slot', value);\n    },\n\n    // TODO: tests\n    setAttribute: function setAttribute(qualifiedName, value) {\n        var _this = this;\n\n        return _customElements2.default.executeCEReactions(function () {\n            var attributes = _this.attributes;\n            var attribute = attributes.getNamedItem(qualifiedName);\n            if (!attribute) {\n                elementSetAttributeDescriptor.value.call(_this, qualifiedName, value);\n                attribute = attributes.getNamedItem(qualifiedName);\n                _Attr2.default.patchAttributeNodeIfNeeded(attribute);\n                _dom2.default.appendAttribute(attribute, _this);\n            } else {\n                _dom2.default.changeAttribute(attribute, _this, value);\n            }\n        });\n    },\n\n\n    // TODO: tests\n    setAttributeNS: function setAttributeNS(nameSpace, qualifiedName, value) {\n        var _this2 = this;\n\n        return _customElements2.default.executeCEReactions(function () {\n            var attributes = _this2.attributes;\n            var parts = qualifiedName.split(':', 2);\n            var localName = parts[parts.length - 1];\n            var attribute = attributes.getNamedItemNS(nameSpace, localName);\n            if (!attribute) {\n                elementSetAttributeNSDescriptor.value.call(_this2, nameSpace, qualifiedName, value);\n                attribute = attributes.getNamedItemNS(nameSpace, localName);\n                _Attr2.default.patchAttributeNodeIfNeeded(attribute);\n                _dom2.default.appendAttribute(attribute, _this2);\n            } else {\n                _dom2.default.changeAttribute(attribute, _this2, value);\n            }\n        });\n    },\n\n\n    // TODO: tests\n    removeAttribute: function removeAttribute(qualifiedName) {\n        var _this3 = this;\n\n        return _customElements2.default.executeCEReactions(function () {\n            _dom2.default.removeAttributeByName(qualifiedName, _this3);\n        });\n    },\n\n\n    // TODO: tests\n    removeAttributeNS: function removeAttributeNS(nameSpace, localName) {\n        var _this4 = this;\n\n        return _customElements2.default.executeCEReactions(function () {\n            _dom2.default.removeAttributeByNamespace(nameSpace, localName, _this4);\n        });\n    },\n\n\n    // TODO: tests\n    setAttributeNode: function setAttributeNode(attr) {\n        var _this5 = this;\n\n        _Attr2.default.patchAttributeNodeIfNeeded(attr);\n        return _customElements2.default.executeCEReactions(function () {\n            return _dom2.default.setAttribute(attr, _this5);\n        });\n    },\n\n\n    // TODO: tests\n    setAttributeNodeNS: function setAttributeNodeNS(attr) {\n        var _this6 = this;\n\n        _Attr2.default.patchAttributeNodeIfNeeded(attr);\n        return _customElements2.default.executeCEReactions(function () {\n            return _dom2.default.setAttribute(attr, _this6);\n        });\n    },\n\n\n    // TODO: tests\n    removeAttributeNode: function removeAttributeNode(attr) {\n        var _this7 = this;\n\n        return _customElements2.default.executeCEReactions(function () {\n            if (attr.ownerElement !== _this7) {\n                throw _utils2.default.makeDOMException('NotFoundError');\n            }\n            _dom2.default.removeAttribute(attr, _this7);\n            return attr;\n        });\n    },\n    attachShadow: function attachShadow(init) {\n        // https://dom.spec.whatwg.org/#dom-element-attachshadow\n        if (!init || init.mode !== 'open' && init.mode !== 'closed') {\n            throw _utils2.default.makeDOMException('TypeError');\n        }\n\n        if (this.namespaceURI !== 'http://www.w3.org/1999/xhtml') {\n            throw _utils2.default.makeDOMException('NotSupportedError');\n        }\n\n        switch (this.localName) {\n            case \"article\":case \"aside\":case \"blockquote\":case \"body\":\n            case \"div\":case \"footer\":case \"h1\":case \"h2\":case \"h3\":\n            case \"h4\":case \"h5\":case \"h6\":case \"header\":case \"main\":\n            case \"nav\":case \"p\":case \"section\":case \"span\":\n                break;\n            default:\n                if (_customElements2.default.isValidCustomElementName(this.localName)) {\n                    break;\n                }\n                throw _utils2.default.makeDOMException('NotSupportedError');\n        }\n\n        if (this.shadowRoot) {\n            throw _utils2.default.makeDOMException('InvalidStateError');\n        }\n\n        var shadow = this.ownerDocument.createDocumentFragment();\n\n        _utils2.default.extend(shadow, _ShadowRoot2.default);\n\n        _utils2.default.setShadowState(shadow, {\n            host: this,\n            mode: init.mode,\n            childNodes: []\n        });\n\n        var savedChildNodes = Array.prototype.slice.call(this.childNodes);\n        var savedChildNodesCount = savedChildNodes.length;\n        for (var i = 0; i < savedChildNodesCount; i++) {\n            var savedChildNode = savedChildNodes[i];\n            var childState = _utils2.default.getShadowState(savedChildNode) || _utils2.default.setShadowState(savedChildNode, {});\n            childState.parentNode = this;\n            nodeRemoveChildDescriptor.value.call(this, savedChildNode);\n        }\n\n        var hostState = _utils2.default.getShadowState(this);\n        if (!hostState) {\n            hostState = {};\n            _utils2.default.setShadowState(this, hostState);\n        }\n        hostState.shadowRoot = shadow;\n        hostState.childNodes = savedChildNodes;\n\n        return shadow;\n    },\n\n\n    get shadowRoot() {\n        // https://dom.spec.whatwg.org/#dom-element-shadowroot\n        var shadowRoot = null;\n        var shadowState = _utils2.default.getShadowState(this);\n        if (shadowState) {\n            shadowRoot = shadowState.shadowRoot;\n            if (!shadowRoot || shadowRoot.mode === 'closed') {\n                return null;\n            }\n        }\n        return shadowRoot;\n    },\n\n    // TODO: tests\n    closest: function closest(selectors) {\n        var element = this;\n\n        do {\n            if (element.matches(selectors)) {\n                return element;\n            }\n        } while (element = element.parentElement);\n    },\n    getElementsByTagName: function getElementsByTagName(qualifiedName) {\n        return _dom2.default.listOfElementsWithQualifiedName(this, qualifiedName);\n    },\n    getElementsByTagNameNS: function getElementsByTagNameNS(ns, localName) {\n        return _dom2.default.listOfElementsWithNamespaceAndLocalName(this, ns, localName);\n    },\n    getElementsByClassName: function getElementsByClassName(names) {\n        return _dom2.default.listOfElementsWithClassNames(this, names);\n    },\n\n\n    // TODO: tests\n    insertAdjacentElement: function insertAdjacentElement(where, element) {\n        var _this8 = this;\n\n        return _customElements2.default.executeCEReactions(function () {\n            // https://dom.spec.whatwg.org/#dom-element-insertadjacentelement\n            return _dom2.default.insertAdjacent(_this8, where, element);\n        });\n    },\n\n\n    // TODO: tests\n    insertAdjacentText: function insertAdjacentText(where, data) {\n        // https://dom.spec.whatwg.org/#dom-element-insertadjacenttext\n        var text = this.ownerDocument.createTextNode(data);\n        _dom2.default.insertAdjacent(this, where, text);\n        return;\n    },\n\n\n    // TODO: tests\n    insertAdjacentHTML: function insertAdjacentHTML(position, text) {\n        var _this9 = this;\n\n        return _customElements2.default.executeCEReactions(function () {\n            // https://w3c.github.io/DOM-Parsing/#dom-element-insertadjacenthtml\n            // We aren't going to go exactly by the books for this one.\n            var fragment = _dom2.default.parseHTMLFragment(text, _this9);\n            _dom2.default.insertAdjacent(_this9, position, fragment);\n        });\n    }\n};\n\nvar htmlElementMixin = {\n\n    // https://w3c.github.io/DOM-Parsing/#extensions-to-the-element-interface\n\n    // TODO: more thorough tests of the serialization\n    get innerHTML() {\n        // https://w3c.github.io/DOM-Parsing/#dom-element-innerhtml\n        return _dom2.default.serializeHTMLFragment(this);\n    },\n\n    // TODO: MutationObserver tests\n    set innerHTML(value) {\n        var _this10 = this;\n\n        return _customElements2.default.executeCEReactions(function () {\n            // https://w3c.github.io/DOM-Parsing/#dom-element-innerhtml\n            var fragment = _dom2.default.parseHTMLFragment(value, _this10);\n            var content = _this10['content'];\n            if (content instanceof DocumentFragment) {\n                _dom2.default.replaceAll(fragment, content);\n            } else {\n                _dom2.default.replaceAll(fragment, _this10);\n            }\n        });\n    },\n\n    // TODO: tests\n    get outerHTML() {\n        // https://w3c.github.io/DOM-Parsing/#dom-element-outerhtml\n        return _dom2.default.serializeHTMLFragment({ childNodes: [this] });\n    },\n\n    // TODO: tests\n    set outerHTML(value) {\n        var _this11 = this;\n\n        return _customElements2.default.executeCEReactions(function () {\n            // https://w3c.github.io/DOM-Parsing/#dom-element-outerhtml\n            var parent = _this11.parentNode;\n            if (parent === null) {\n                return;\n            }\n            if (parent.nodeType === Node.DOCUMENT_NODE) {\n                throw _utils2.default.makeDOMException('NoModificationAllowedError');\n            }\n            if (parent.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n                parent = _this11.ownerDocument.createElement('body');\n            }\n            var fragment = _dom2.default.parseHTMLFragment(value, parent);\n            _dom2.default.replace(_this11, fragment, _this11.parentNode);\n        });\n    }\n\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _dom = require('../dom.js');\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _utils = require('../utils.js');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// https://dom.spec.whatwg.org/#interface-event\n\nexports.default = {\n    install: install\n};\n\n\nvar eventStopImmediatePropagationDescriptor = _utils2.default.descriptor(Event, 'stopImmediatePropagation');\nvar eventCurrentTargetDescriptor = _utils2.default.descriptor(Event, 'currentTarget');\nvar eventTargetDescriptor = _utils2.default.descriptor(Event, 'target');\nvar focusEventRelatedTargetDescriptor = _utils2.default.descriptor(FocusEvent, 'relatedTarget');\nvar mouseEventRelatedTargetDescriptor = _utils2.default.descriptor(MouseEvent, 'relatedTarget');\n\nfunction eventConstructor(type, init) {\n    var bubbles = false;\n    var cancelable = false;\n    var composed = false;\n    if (init) {\n        bubbles = init.bubbles === true;\n        cancelable = init.cancelable === true;\n        composed = init.composed === true;\n    }\n    var event = document.createEvent('Event'); // Capitalized to work with older WebKit\n    event.initEvent(type, bubbles, cancelable);\n    Object.defineProperty(event, 'composed', {\n        enumerable: true,\n        configurable: true,\n        get: function get() {\n            return composed;\n        }\n    });\n    return event;\n};\n\nfunction install() {\n    if (!_utils2.default.brokenAccessors) {\n        _utils2.default.extend(Event, {\n            get currentTarget() {\n                var shadowState = _utils2.default.getShadowState(this);\n                if (shadowState) {\n                    return shadowState.currentTarget;\n                }\n                return eventCurrentTargetDescriptor.get.call(this);\n            },\n            get target() {\n                var shadowState = _utils2.default.getShadowState(this);\n                if (shadowState) {\n                    return shadowState.target;\n                }\n                return eventTargetDescriptor.get.call(this);\n            }\n        });\n\n        // FocusEvent:\n        // relatedTarget will be the element losing or gaining focus\n        _utils2.default.extend(FocusEvent, {\n            get relatedTarget() {\n                var shadowState = _utils2.default.getShadowState(this);\n                if (shadowState) {\n                    return shadowState.relatedTarget;\n                }\n                return focusEventRelatedTargetDescriptor.get.call(this);\n            }\n        });\n\n        // MouseEvent:\n        // relatedTarget will be the element being moved into or out of\n        _utils2.default.extend(MouseEvent, {\n            get relatedTarget() {\n                var shadowState = _utils2.default.getShadowState(this);\n                if (shadowState) {\n                    return shadowState.relatedTarget;\n                }\n                return mouseEventRelatedTargetDescriptor.get.call(this);\n            }\n        });\n    }\n\n    _utils2.default.extend(Event, eventMixin);\n    eventConstructor.prototype = Event.prototype;\n    window.Event = eventConstructor;\n}\n\nvar eventMixin = {\n    stopImmediatePropagation: function stopImmediatePropagation() {\n        var shadowState = _utils2.default.getShadowState(this);\n        if (shadowState) {\n            shadowState.stopImmediatePropagationFlag = true;\n            this.stopPropagation();\n            return;\n        }\n        eventStopImmediatePropagationDescriptor.value.call(this);\n    },\n    composedPath: function composedPath() {\n        // https://dom.spec.whatwg.org/#dom-event-composedpath\n\n        // 1. Let composedPath be a new empty list.\n        var composedPath = [];\n\n        // 2. Let currentTarget be context objects currentTarget attribute value.\n        var currentTarget = this.currentTarget;\n\n        // 3. For each tuple in context objects path:\n        var path = _utils2.default.getShadowState(this).path;\n\n        if (path) {\n            var c = 0;\n            for (var i = 0; i < path.length; i++) {\n                var item = path[i][0];\n                if (currentTarget instanceof Window) {\n                    if (!(item instanceof Node) || !_dom2.default.closedShadowHidden(item, _dom2.default.shadowIncludingRoot(item))) {\n                        composedPath[c++] = item;\n                    }\n                } else if (currentTarget instanceof Node) {\n                    if (!_dom2.default.closedShadowHidden(item, currentTarget)) {\n                        composedPath[c++] = item;\n                    }\n                } else {\n                    composedPath[c++] = item;\n                }\n            }\n        }\n\n        // 4. return composedPath.\n        return composedPath;\n    },\n\n\n    get composed() {\n        // TODO: Compare against the actual prototype instead of just the type strings\n        return builtInComposedEvents.indexOf(this.type) !== -1;\n    }\n\n};\n\nvar builtInComposedEvents = [\n// FocusEvent\n'blur', 'focus', 'focusin', 'focusout',\n// MouseEvent\n'click', 'dblclick', 'mousedown', 'mouseenter', 'mouseleave', 'mousemove', 'mouseout', 'mouseover', 'mouseup',\n// WheelEvent\n'wheel',\n// InputEvent\n'beforeinput', 'input',\n// KeyboardEvent\n'keydown', 'keyup',\n// CompositionEvent\n'compositionstart', 'compositionupdate', 'compositionend',\n// Legacy UIEvent\n'DOMActivate',\n// Legacy FocusEvent\n'DOMFocusIn', 'DOMFocusOut',\n// Legacy KeyboardEvent\n'keypress',\n\n// Touch Events\n'touchstart', 'touchend', 'touchmove', 'touchcancel'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _dom = require('../dom.js');\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _utils = require('../utils.js');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _Event = require('./Event.js');\n\nvar _Event2 = _interopRequireDefault(_Event);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    install: install\n}; // https://dom.spec.whatwg.org/#interface-eventtarget\n\nvar ieBrowserToolsCallbackMagicString = 'function __BROWSERTOOLS_CONSOLE_SAFEFUNC(){try{return n(arguments)}catch(i){t(i)}}';\n\nvar eventTargetDescriptor = _utils2.default.descriptor(Event, 'target');\n\nvar focusEventRelatedTargetDescriptor = _utils2.default.descriptor(FocusEvent, 'relatedTarget');\nvar mouseEventRelatedTargetDescriptor = _utils2.default.descriptor(MouseEvent, 'relatedTarget');\n\nvar getEventTarget = function getEventTarget(event) {\n    return eventTargetDescriptor.get.call(event);\n};\nvar getFocusEventRelatedTarget = function getFocusEventRelatedTarget(event) {\n    return focusEventRelatedTargetDescriptor.get.call(event);\n};\nvar getMouseEventRelatedTarget = function getMouseEventRelatedTarget(event) {\n    return mouseEventRelatedTargetDescriptor.get.call(event);\n};\n\nif (_utils2.default.brokenAccessors) {\n    getEventTarget = function getEventTarget(event) {\n        var state = _utils2.default.getShadowState(event);\n        return state.nativeEvent.target;\n    };\n    getFocusEventRelatedTarget = function getFocusEventRelatedTarget(event) {\n        var state = _utils2.default.getShadowState(event);\n        return state.nativeEvent.relatedTarget;\n    };\n    getMouseEventRelatedTarget = getFocusEventRelatedTarget;\n}\n\nvar $EventTarget = function $EventTarget(base) {\n\n    var native = {\n        addEventListener: base.prototype.addEventListener,\n        removeEventListener: base.prototype.removeEventListener,\n        dispatchEvent: base.prototype.dispatchEvent\n    };\n\n    return {\n        addEventListener: function addEventListener(type, callback, options) {\n            if (typeof callback !== 'function') {\n                return;\n            }\n\n            if (this instanceof Document && callback.toString() === ieBrowserToolsCallbackMagicString) {\n                native.addEventListener.call(this, type, callback, options);\n                return;\n            }\n\n            var listener = { callback: callback };\n            var capture = false;\n\n            if (typeof options === 'boolean') {\n                capture = options;\n            } else if (typeof options !== 'undefined') {\n                capture = options.capture === true;\n                listener.once = options.once === true;\n                // we don't do anything with passive.\n                listener.passive = options.passive === true;\n            }\n\n            var collection = getEventListenerCollection(this, type, capture) || createEventListenerCollection(this, type, capture);\n\n            collection.addListener(this, listener);\n            collection.attach(native.addEventListener);\n        },\n        removeEventListener: function removeEventListener(type, callback, options) {\n            if (typeof callback !== 'function') {\n                return;\n            }\n\n            if (this instanceof Document && callback.toString() === ieBrowserToolsCallbackMagicString) {\n                native.removeEventListener.call(this, type, callback, options);\n                return;\n            }\n\n            var listener = { callback: callback };\n            var capture = false;\n\n            if (typeof options === 'boolean') {\n                capture = options;\n            } else if (typeof options !== 'undefined') {\n                capture = options.capture === true;\n            }\n\n            var collection = getEventListenerCollection(this, type, capture);\n\n            if (!collection) {\n                return;\n            }\n\n            collection.removeListener(this, listener);\n\n            if (collection.empty) {\n                collection.detach(native.removeEventListener);\n            }\n        }\n    };\n};\n\nfunction install() {\n    // In IE and Safari < 10, EventTarget is not exposed and Window's\n    // EventTarget methods are not the same as Node's.\n    if ('EventTarget' in Window) {\n        _utils2.default.extend(EventTarget, $EventTarget(EventTarget));\n    } else {\n        _utils2.default.extend(Window, $EventTarget(Window));\n        _utils2.default.extend(Node, $EventTarget(Node));\n    }\n}\n\nvar EventListenerCollection = function EventListenerCollection(target, type, capture) {\n    var _this = this;\n\n    this.target = target;\n    this.type = type;\n    this.capture = capture;\n    this.hostListeners = [];\n    this.shadowListeners = [];\n\n    this.callback = function (event) {\n        var phase = event.eventPhase;\n        switch (phase) {\n            case Event.prototype.CAPTURING_PHASE:\n                if (_this.hostListeners.length) {\n                    _this.invokeListeners(event, _this.target, _this.hostListeners);\n                }\n                if (_this.shadowListeners.length) {\n                    _this.invokeListeners(event, _utils2.default.getShadowState(target).shadowRoot, _this.shadowListeners);\n                }\n                break;\n            case Event.prototype.AT_TARGET:\n                var nativeTarget = getEventTarget(event);\n                var listeners = _this.getListeners(nativeTarget);\n                if (listeners.length) {\n                    _this.invokeListeners(event, nativeTarget, listeners);\n                }\n                break;\n            case Event.prototype.BUBBLING_PHASE:\n                if (_this.shadowListeners.length) {\n                    _this.invokeListeners(event, _utils2.default.getShadowState(target).shadowRoot, _this.shadowListeners);\n                }\n                if (_this.hostListeners.length) {\n                    _this.invokeListeners(event, _this.target, _this.hostListeners);\n                }\n                break;\n        }\n    };\n\n    if (_utils2.default.brokenAccessors) {\n        (function () {\n            var innerCallback = _this.callback;\n            _this.callback = function (event) {\n                var wrapper = wrapEventWithBrokenAccessors(event);\n                innerCallback(wrapper);\n            };\n        })();\n    }\n};\n\nfunction getEventListenerCollection(target, type, capture) {\n    var targetState = _utils2.default.getShadowState(target);\n    var nativeTarget = target;\n    var nativeTargetState = targetState;\n    if (targetState && targetState.host) {\n        nativeTarget = targetState.host;\n        nativeTargetState = _utils2.default.getShadowState(nativeTarget);\n    }\n    if (!nativeTargetState || !nativeTargetState.listeners) {\n        return null;\n    }\n    var collections = nativeTargetState.listeners;\n    for (var i = 0; i < collections.length; i++) {\n        var collection = collections[i];\n        if (collection.target === nativeTarget && collection.type === type && collection.capture === capture) {\n            return collection;\n        }\n    }\n    return null;\n};\n\nfunction createEventListenerCollection(target, type, capture) {\n    var targetState = _utils2.default.getShadowState(target);\n    var nativeTarget = target;\n    var nativeTargetState = targetState;\n    if (targetState && targetState.host) {\n        nativeTarget = targetState.host;\n        nativeTargetState = _utils2.default.getShadowState(nativeTarget);\n    }\n    if (!nativeTargetState) {\n        nativeTargetState = _utils2.default.setShadowState(nativeTarget, { listeners: [] });\n    } else if (!nativeTargetState.listeners) {\n        nativeTargetState.listeners = [];\n    }\n    var collection = new EventListenerCollection(nativeTarget, type, capture);\n    nativeTargetState.listeners.push(collection);\n    return collection;\n};\n\nEventListenerCollection.prototype = {\n\n    get empty() {\n        return this.hostListeners.length === 0 && this.shadowListeners.length === 0;\n    },\n\n    getListeners: function getListeners(target) {\n        var targetState = _utils2.default.getShadowState(target);\n        if (targetState && targetState.host) {\n            return this.shadowListeners;\n        }\n        return this.hostListeners;\n    },\n    addListener: function addListener(target, listener) {\n        var listeners = this.getListeners(target);\n\n        for (var i = 0; i < listeners.length; i++) {\n            if (listener.callback === listeners[i].callback) {\n                return;\n            }\n        }\n\n        listeners.push(listener);\n    },\n    removeListener: function removeListener(target, listener) {\n        var listeners = this.getListeners(target);\n\n        for (var i = 0; i < listeners.length; i++) {\n            var other = listeners[i];\n            if (listener.callback === other.callback) {\n                listeners.splice(i, 1);\n                break;\n            }\n        }\n    },\n    invokeListeners: function invokeListeners(event, currentTarget, listeners) {\n        var eventState = _utils2.default.getShadowState(event) || _utils2.default.setShadowState(event, {});\n        var path = eventState.calculatedPath;\n        if (!path) {\n            path = eventState.calculatedPath = calculatePath(event);\n        }\n        // if there is no target, the event is not composed and should be stopped\n        var target = calculateTarget(currentTarget, path);\n        if (!target) {\n            event.stopImmediatePropagation();\n        } else {\n            var relatedTarget = calculateRelatedTarget(currentTarget, path);\n            var remove = void 0;\n\n            eventState.path = path;\n            eventState.currentTarget = currentTarget;\n            eventState.target = target;\n            eventState.relatedTarget = relatedTarget;\n\n            for (var i = 0; i < listeners.length; i++) {\n                var listener = listeners[i];\n                var result = listener.callback.call(currentTarget, event);\n                if (listener.once) {\n                    if (!remove) {\n                        remove = [listener];\n                    } else {\n                        remove.push[listener];\n                    }\n                }\n                if (eventState.stopImmediatePropagationFlag) {\n                    break;\n                }\n            }\n\n            eventState.path = null;\n            eventState.currentTarget = null;\n\n            if (remove) {\n                for (var _i = 0; _i < remove.length; _i++) {\n                    var index = listeners.indexOf(remove[_i]);\n                    listeners.splice(index, 1);\n                }\n            }\n        }\n    },\n    attach: function attach(descriptor) {\n        descriptor.call(this.target, this.type, this.callback, this.capture);\n    },\n    detach: function detach(descriptor) {\n        descriptor.call(this.target, this.type, this.callback, this.capture);\n    }\n};\n\nfunction calculatePath(event) {\n    // https://dom.spec.whatwg.org/#concept-event-dispatch\n\n    var path = [];\n    var p = 0;\n\n    var target = getEventTarget(event);\n\n    var getRelatedTarget = null;\n\n    if (event instanceof FocusEvent) {\n        getRelatedTarget = getFocusEventRelatedTarget;\n    } else if (event instanceof MouseEvent) {\n        getRelatedTarget = getMouseEventRelatedTarget;\n    }\n\n    // 1. Set events dispatch flag.\n    // SKIP: native\n\n    // 2. Let targetOverride be target, if legacy target override flag is \n    // not given, and targets associated Document otherwise. \n    var targetOverride = target;\n\n    // 3. Let relatedTarget be the result of retargeting events relatedTarget \n    // against target if events relatedTarget is non-null, and null otherwise.\n    var originalRelatedTarget = null;\n    var relatedTarget = null;\n    if (getRelatedTarget) {\n        originalRelatedTarget = getRelatedTarget(event);\n        if (originalRelatedTarget) {\n            relatedTarget = _dom2.default.retarget(originalRelatedTarget, target);\n        }\n    }\n\n    // 4. If target is relatedTarget and target is not events relatedTarget, then return true.\n    // SKIP: native\n\n    // 5. Append (target, targetOverride, relatedTarget) to events path.\n    path[p++] = [target, targetOverride, relatedTarget];\n\n    // 6. Let isActivationEvent be true, if event is a MouseEvent object and \n    // events type attribute is \"click\", and false otherwise.\n    // SKIP: native\n\n    // 7. Let activationTarget be target, if isActivationEvent is true and \n    // target has activation behavior, and null otherwise.\n    // SKIP: native\n\n    // 8. Let parent be the result of invoking targets get the parent with event.\n    var parent = getTheParent(target, event, path);\n\n    // 9. While parent is non-null:\n    while (parent != null) {\n        // 1. Let relatedTarget be the result of retargeting events relatedTarget\n        // against parent if events relatedTarget is non-null, and null otherwise.\n        if (originalRelatedTarget) {\n            relatedTarget = _dom2.default.retarget(originalRelatedTarget, parent);\n        }\n        // 2. If targets root is a shadow-including inclusive ancestor of parent, then... \n        // append (parent, null, relatedTarget) to events path.\n        if (_dom2.default.shadowIncludingInclusiveAncestor(_dom2.default.root(target), parent)) {\n            path[p++] = [parent, null, relatedTarget];\n            parent = getTheParent(parent, event, path);\n            continue;\n        }\n        // 3. Otherwise, if parent and relatedTarget are identical, then set parent to null.\n        else if (parent === relatedTarget) {\n                break;\n            }\n            // 4. Otherwise, set target to parent and then... \n            // append (parent, target, relatedTarget) to events path.\n            else {\n                    target = parent;\n                    path[p++] = [parent, target, relatedTarget];\n                    parent = getTheParent(parent, event, path);\n                    continue;\n                }\n        // 5. If parent is non-null, then set parent to the result of \n        // invoking parents get the parent with event.\n        // NOTE: This step was duplicated above to save some cycles.\n    }\n\n    return path;\n}\n\nfunction getTheParent(node, event, path) {\n    // https://dom.spec.whatwg.org/#get-the-parent\n    // Each EventTarget object also has an associated get the parent \n    // algorithm, which takes an event event, and returns an EventTarget \n    // object. Unless specified otherwise it returns null.\n\n    // A nodes get the parent algorithm, given an event, \n    // returns the nodes assigned slot, if node is assigned, \n    // and nodes parent otherwise.\n\n    // A documents get the parent algorithm, given an event, returns null if events \n    // type attribute value is \"load\" or document does not have a browsing context, \n    // and the documents associated Window object otherwise.\n\n    // A shadow roots get the parent algorithm, given an event, returns null if \n    // events composed flag is unset and shadow root is the root of events \n    // paths first tuples item, and shadow roots host otherwise.\n\n    if (node instanceof Node) {\n        if (node.nodeType === Node.DOCUMENT_NODE) {\n            if (event.type === 'load') {\n                // or browsing context?\n                return null;\n            }\n            return node.defaultView;\n        } else if (_dom2.default.isShadowRoot(node)) {\n            if (!event.composed) {\n                var item = path[0][0];\n                if (_dom2.default.root(item) === node) {\n                    return null;\n                }\n            }\n            return node.host;\n        }\n        return node.assignedSlot || node.parentNode;\n    }\n\n    return null;\n}\n\nfunction calculateRelatedTarget(currentTarget, path) {\n    for (var i = 0; i < path.length; i++) {\n        var item = path[i][0];\n        var relatedTarget = path[i][2];\n        if (item === currentTarget) {\n            return relatedTarget;\n        }\n    }\n    return null;\n}\n\nfunction calculateTarget(currentTarget, path) {\n    for (var i = 0; i < path.length; i++) {\n        var item = path[i][0];\n        if (item === currentTarget) {\n            for (var j = i; j >= 0; j--) {\n                var target = path[j][1];\n                if (target != null) {\n                    return target;\n                }\n            }\n            return null;\n        }\n    }\n    return null;\n}\n\nfunction wrapEventWithBrokenAccessors(event) {\n    var eventState = _utils2.default.getShadowState(event) || _utils2.default.setShadowState(event, {});\n\n    if (eventState.wrapper) {\n        return eventState.wrapper;\n    }\n\n    eventState.nativeEvent = event;\n\n    var descriptors = {\n        type: {\n            get: function get() {\n                return event.type;\n            }\n        },\n        target: {\n            get: function get() {\n                return eventState.target || event.target;\n            }\n        },\n        currentTarget: {\n            get: function get() {\n                return eventState.currentTarget || event.currentTarget;\n            }\n        },\n        eventPhase: {\n            get: function get() {\n                return event.eventPhase;\n            }\n        },\n        bubbles: {\n            get: function get() {\n                return event.bubbles;\n            }\n        },\n        cancelable: {\n            get: function get() {\n                return event.cancelable;\n            }\n        },\n        preventDefault: {\n            value: function value() {\n                return event.preventDefault();\n            }\n        },\n        defaultPrevented: {\n            get: function get() {\n                return event.defaultPrevented;\n            }\n        },\n        stopPropagation: {\n            value: function value() {\n                return event.stopPropagation();\n            }\n        }\n    };\n\n    if ('relatedTarget' in event) {\n        descriptors.relatedTarget = {\n            get: function get() {\n                return eventState.relatedTarget || event.relatedTarget;\n            }\n        };\n    }\n\n    var wrapper = Object.create(event, descriptors);\n\n    _utils2.default.setShadowState(wrapper, eventState);\n\n    eventState.wrapper = wrapper;\n\n    return wrapper;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _dom = require('../dom.js');\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _utils = require('../utils.js');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// https://html.spec.whatwg.org/multipage/scripting.html#the-slot-element\n\nexports.default = {\n\n    // TODO: tests\n    get name() {\n        if (this.localName !== 'slot') {\n            return;\n        }\n\n        return this.hasAttribute('name') ? this.getAttribute('name') : '';\n    },\n\n    // TODO: tests\n    set name(value) {\n        if (this.localName !== 'slot') {\n            return;\n        }\n\n        _dom2.default.setAttributeValue(this, 'name', value);\n    },\n\n    // TODO: tests\n    assignedNodes: function assignedNodes(options) {\n        if (this.localName !== 'slot') {\n            return;\n        }\n\n        // https://html.spec.whatwg.org/multipage/scripting.html#dom-slot-assignednodes\n        // The assignedNodes(options) method, when invoked, must run these steps:\n\n        // 1. If the value of options's flatten member is false, then return this element's assigned nodes.\n        if (!options || options.flatten !== true) {\n            var assignedNodes = null;\n            var shadowState = _utils2.default.getShadowState(this);\n            if (shadowState) {\n                assignedNodes = shadowState.assignedNodes;\n            }\n            return assignedNodes || [];\n        }\n\n        // 2. Return the result of finding flattened slotables with this element.\n        return _dom2.default.findFlattenedSlotables(this);\n    }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _dom = require('../dom.js');\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _utils = require('../utils.js');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// https://www.w3.org/TR/html5/single-page.html#the-table-element\n\nexports.default = {\n\n    // TODO: tests\n    deleteCaption: function deleteCaption() {\n        var caption = this.caption;\n        if (caption) {\n            _dom2.default.remove(caption, this);\n        }\n    },\n\n\n    // TODO: tests\n    deleteTHead: function deleteTHead() {\n        var tHead = this.tHead;\n        if (tHead) {\n            _dom2.default.remove(tHead, this);\n        }\n    },\n\n\n    // TODO: tests\n    deleteTFoot: function deleteTFoot() {\n        var tFoot = this.tFoot;\n        if (tFoot) {\n            _dom2.default.remove(tFoot, this);\n        }\n    },\n\n\n    // TODO: tests\n    deleteRow: function deleteRow(index) {\n        // https://www.w3.org/TR/html5/single-page.html#dom-table-deleterow\n        if (index === -1) {\n            index = this.rows.length - 1;\n        }\n        if (index < 0 || index >= this.rows.length) {\n            throw _utils2.default.makeDOMException('IndexSizeError');\n        }\n        this.rows[index].remove();\n    }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _utils = require('../utils.js');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n\n    // TODO: tests\n    deleteCell: function deleteCell(index) {\n        // https://www.w3.org/TR/html5/single-page.html#dom-tr-deletecell\n        if (index === -1) {\n            index = this.cells.length - 1;\n        }\n        if (index < 0 || index >= this.cells.length) {\n            throw _utils2.default.makeDOMException('IndexSizeError');\n        }\n        this.cells[index].remove();\n    }\n}; // https://www.w3.org/TR/html5/single-page.html#the-tr-element","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _utils = require('../utils.js');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n\n    // TODO: tests\n    deleteRow: function deleteRow(index) {\n        // https://www.w3.org/TR/html5/single-page.html#dom-tbody-deleterow\n        if (index < 0 || index >= this.rows.length) {\n            throw _utils2.default.makeDOMException('IndexSizeError');\n        }\n        this.rows[index].remove();\n    }\n}; // https://www.w3.org/TR/html5/single-page.html#the-tbody-element","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = $MutationObserver;\n\nvar _dom = require('../dom.js');\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _mutationObservers = require('../mutation-observers.js');\n\nvar _mutationObservers2 = _interopRequireDefault(_mutationObservers);\n\nvar _utils = require('../utils.js');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction $MutationObserver(callback) {\n    var observer = _mutationObservers2.default.createMutationObserver(callback);\n    _utils2.default.setShadowState(this, { observer: observer });\n    observer.interface = this;\n} // https://dom.spec.whatwg.org/#interface-mutationobserver\n\n$MutationObserver.prototype = {\n    observe: function observe(target, options) {\n        _utils2.default.getShadowState(this).observer.observe(target, options);\n    },\n    disconnect: function disconnect() {\n        _utils2.default.getShadowState(this).observer.disconnect();\n    },\n    takeRecords: function takeRecords() {\n        var records = _utils2.default.getShadowState(this).observer.queue;\n        return records.splice(0, records.length);\n    }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _dom = require('../dom.js');\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _customElements = require('../custom-elements.js');\n\nvar _customElements2 = _interopRequireDefault(_customElements);\n\nvar _utils = require('../utils.js');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _Attr = require('../interfaces/Attr.js');\n\nvar _Attr2 = _interopRequireDefault(_Attr);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// https://dom.spec.whatwg.org/#interface-namednodemap\n\nexports.default = {\n\n    // TODO: tests\n    setNamedItem: function setNamedItem(attr) {\n        var _this = this;\n\n        _Attr2.default.patchAttributeNodeIfNeeded(attr);\n        return _customElements2.default.executeCEReactions(function () {\n            var shadowState = _utils2.default.getShadowState(_this);\n            return _dom2.default.setAttribute(attr, shadowState.element);\n        });\n    },\n\n\n    // TODO: tests\n    setNamedItemNS: function setNamedItemNS(attr) {\n        var _this2 = this;\n\n        _Attr2.default.patchAttributeNodeIfNeeded(attr);\n        return _customElements2.default.executeCEReactions(function () {\n            var shadowState = _utils2.default.getShadowState(_this2);\n            return _dom2.default.setAttribute(attr, shadowState.element);\n        });\n    },\n\n\n    // TODO: tests\n    removeNamedItem: function removeNamedItem(qualifiedName) {\n        var _this3 = this;\n\n        return _customElements2.default.executeCEReactions(function () {\n            var shadowState = _utils2.default.getShadowState(_this3);\n            var attr = _dom2.default.removeAttributeByName(qualifiedName, shadowState.element);\n            if (!attr) {\n                throw _utils2.default.makeDOMException('NotFoundError');\n            }\n            return attr;\n        });\n    },\n\n\n    // TODO: tests\n    removeNamedItemNS: function removeNamedItemNS(nameSpace, localName) {\n        var _this4 = this;\n\n        return _customElements2.default.executeCEReactions(function () {\n            var shadowState = _utils2.default.getShadowState(_this4);\n            var attr = _dom2.default.removeAttributeByNamespace(nameSpace, localName, shadowState.element);\n            if (!attr) {\n                throw _utils2.default.makeDOMException('NotFoundError');\n            }\n            return attr;\n        });\n    }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _dom = require('../dom.js');\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _customElements = require('../custom-elements.js');\n\nvar _customElements2 = _interopRequireDefault(_customElements);\n\nvar _utils = require('../utils.js');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    install: install\n}; // https://dom.spec.whatwg.org/#interface-node\n\nvar nodeWalker = document.createTreeWalker(document, NodeFilter.SHOW_ALL, null, false);\nvar nodeHasChildNodesDescriptor = _utils2.default.descriptor(Node, 'hasChildNodes');\nvar nodeChildNodesDescriptor = _utils2.default.descriptor(Node, 'childNodes');\n\nvar accessorDescriptors = {\n\n    get parentNode() {\n        var nodeState = _utils2.default.getShadowState(this);\n        if (nodeState) {\n            var parentNode = nodeState.parentNode;\n            if (parentNode) {\n                return parentNode;\n            }\n        }\n        nodeWalker.currentNode = this;\n        return nodeWalker.parentNode();\n    },\n\n    get parentElement() {\n        var parentNode = this.parentNode;\n        if (parentNode && parentNode.nodeType === Node.ELEMENT_NODE) {\n            return parentNode;\n        }\n        return null;\n    },\n\n    // TODO: tests\n    get childNodes() {\n        var nodeState = _utils2.default.getShadowState(this);\n        if (nodeState) {\n            var childNodes = nodeState.childNodes;\n            if (childNodes) {\n                var childNodesLength = childNodes.length;\n                var result = new Array(childNodesLength);\n                for (var i = 0; i < childNodesLength; i++) {\n                    result[i] = childNodes[i];\n                }\n                return result;\n            }\n        }\n        if (_utils2.default.brokenAccessors) {\n            var _childNodes = new Array();\n            nodeWalker.currentNode = this;\n            var firstChild = nodeWalker.firstChild();\n            if (!firstChild) {\n                return _childNodes;\n            }\n            _childNodes.push(firstChild);\n            var nextSibling = void 0;\n            while (nextSibling = nodeWalker.nextSibling()) {\n                _childNodes.push(nextSibling);\n            }\n            return _childNodes;\n        }\n        return nodeChildNodesDescriptor.get.call(this);\n    },\n\n    // TODO: tests\n    get firstChild() {\n        var nodeState = _utils2.default.getShadowState(this);\n        if (nodeState) {\n            var childNodes = nodeState.childNodes;\n            if (childNodes) {\n                if (childNodes.length) {\n                    return childNodes[0];\n                }\n                return null;\n            }\n        }\n        nodeWalker.currentNode = this;\n        return nodeWalker.firstChild();\n    },\n\n    // TODO: tests\n    get lastChild() {\n        var nodeState = _utils2.default.getShadowState(this);\n        if (nodeState) {\n            var childNodes = nodeState.childNodes;\n            if (childNodes) {\n                if (childNodes.length) {\n                    return childNodes[childNodes.length - 1];\n                }\n                return null;\n            }\n        }\n        nodeWalker.currentNode = this;\n        return nodeWalker.lastChild();\n    },\n\n    // TODO: tests\n    get previousSibling() {\n        var nodeState = _utils2.default.getShadowState(this);\n        if (nodeState) {\n            var parentNode = nodeState.parentNode;\n            if (parentNode) {\n                var childNodes = _utils2.default.getShadowState(parentNode).childNodes;\n                var siblingIndex = childNodes.indexOf(this) - 1;\n                return siblingIndex < 0 ? null : childNodes[siblingIndex];\n            }\n        }\n        nodeWalker.currentNode = this;\n        return nodeWalker.previousSibling();\n    },\n\n    // TODO: tests\n    get nextSibling() {\n        var nodeState = _utils2.default.getShadowState(this);\n        if (nodeState) {\n            var parentNode = nodeState.parentNode;\n            if (parentNode) {\n                var childNodes = _utils2.default.getShadowState(parentNode).childNodes;\n                var siblingIndex = childNodes.indexOf(this) + 1;\n                return siblingIndex === childNodes.length ? null : childNodes[siblingIndex];\n            }\n        }\n        nodeWalker.currentNode = this;\n        return nodeWalker.nextSibling();\n    },\n\n    get nodeValue() {\n        switch (this.nodeType) {\n            case Node.ATTRIBUTE_NODE:\n                return this.value;\n            case Node.TEXT_NODE:\n            case Node.PROCESSING_INSTRUCTION_NODE:\n            case Node.COMMENT_NODE:\n                return this.data;\n        }\n    },\n\n    // TODO: MutationObserver tests\n    set nodeValue(value) {\n        var _this = this;\n\n        return _customElements2.default.executeCEReactions(function () {\n            switch (_this.nodeType) {\n                case Node.ATTRIBUTE_NODE:\n                    _this.value = value;\n                    break;\n                case Node.TEXT_NODE:\n                case Node.PROCESSING_INSTRUCTION_NODE:\n                case Node.COMMENT_NODE:\n                    _this.data = value;\n                    break;\n            }\n        });\n    },\n\n    get textContent() {\n        switch (this.nodeType) {\n            case Node.DOCUMENT_FRAGMENT_NODE:\n            case Node.ELEMENT_NODE:\n                return elementTextContent(this);\n            case Node.ATTRIBUTE_NODE:\n                return this.value;\n            case Node.TEXT_NODE:\n            case Node.PROCESSING_INSTRUCTION_NODE:\n            case Node.COMMENT_NODE:\n                return this.data;\n            default:\n                return null;\n        }\n    },\n\n    // TODO: MutationObserver tests\n    set textContent(value) {\n        var _this2 = this;\n\n        return _customElements2.default.executeCEReactions(function () {\n            switch (_this2.nodeType) {\n                case Node.DOCUMENT_FRAGMENT_NODE:\n                case Node.ELEMENT_NODE:\n                    var node = null;\n                    if (value !== '') {\n                        node = _this2.ownerDocument.createTextNode(value);\n                    }\n                    _dom2.default.replaceAll(node, _this2);\n                    break;\n                case Node.ATTRIBUTE_NODE:\n                    _this2.value = value;\n                    break;\n                case Node.TEXT_NODE:\n                case Node.PROCESSING_INSTRUCTION_NODE:\n                case Node.COMMENT_NODE:\n                    _this2.data = value;\n                    break;\n            }\n        });\n    }\n\n};\n\nvar methodDescriptors = {\n\n    get isConnected() {\n        return _dom2.default.shadowIncludingRoot(this).nodeType === Node.DOCUMENT_NODE;\n    },\n\n    getRootNode: function getRootNode(options) {\n        var composed = options && options.composed === true;\n        return composed ? _dom2.default.shadowIncludingRoot(this) : _dom2.default.root(this);\n    },\n\n\n    // TODO: tests\n    hasChildNodes: function hasChildNodes() {\n        var nodeState = _utils2.default.getShadowState(this);\n        if (nodeState) {\n            var childNodes = nodeState.childNodes;\n            if (childNodes) {\n                return childNodes.length > 0;\n            }\n        }\n\n        return nodeHasChildNodesDescriptor.value.call(this);\n    },\n\n\n    // TODO: tests\n    normalize: function normalize() {\n        var _this3 = this;\n\n        return _customElements2.default.executeCEReactions(function () {\n            // https://dom.spec.whatwg.org/#dom-node-normalize\n            // The normalize() method, when invoked, must run these steps \n            // for each descendant exclusive Text node node of context object:\n            var childNodes = _this3.childNodes;\n            for (var i = 0; i < childNodes.length; i++) {\n                var childNode = childNodes[i];\n                if (childNode.nodeType === Node.TEXT_NODE) {\n                    var length = childNode.data.length;\n                    if (length === 0) {\n                        _dom2.default.remove(childNode, _this3);\n                        continue;\n                    }\n                    var data = '';\n                    var contiguousTextNodes = new Array(childNodes.length);\n                    var contiguousCount = 0;\n                    var next = childNode;\n                    while (next = next.nextSibling && next.nodeType === Node.TEXT_NODE) {\n                        data += next.data;\n                        contiguousTextNodes[contiguousCount++] = next;\n                    }\n                    childNode.replaceData(length, 0, data);\n                    // TODO: (Range)\n                    for (var j = 0; j < contiguousCount; j++) {\n                        _dom2.default.remove(contiguousTextNodes[j], _this3);\n                    }\n                } else {\n                    childNode.normalize();\n                }\n            }\n        });\n    },\n\n\n    // TODO: tests\n    cloneNode: function cloneNode(deep) {\n        var _this4 = this;\n\n        return _customElements2.default.executeCEReactions(function () {\n            // https://dom.spec.whatwg.org/#dom-node-clonenode\n            // The cloneNode(deep) method, when invoked, must run these steps:\n\n            // 1. If context object is a shadow root, then throw a NotSupportedError.\n            if (_dom2.default.isShadowRoot(_this4)) {\n                throw _utils2.default.makeDOMException('NotSupportedError');\n            }\n\n            // 2. Return a clone of the context object, with the clone children flag set if deep is true.\n            return _dom2.default.clone(_this4, undefined, deep);\n        });\n    },\n\n\n    // TODO: tests\n    isEqualNode: function isEqualNode(other) {\n        // https://dom.spec.whatwg.org/#dom-node-isequalnode\n        // https://dom.spec.whatwg.org/#concept-node-equals\n        if (!other) {\n            return false;\n        }\n\n        if (this.nodeType !== other.nodeType) {\n            return false;\n        }\n\n        var thisAttributes = void 0;\n        var otherAttributes = void 0;\n\n        switch (this.nodeType) {\n            case Node.DOCUMENT_TYPE_NODE:\n                if (this.name !== other.name || this.publicId !== other.publicId || this.systemId !== other.systemId) {\n                    return false;\n                }\n                break;\n            case Node.ELEMENT_NODE:\n                if (this.namespaceURI !== other.namespaceURI || this.prefix !== other.prefix || this.localName !== other.localName) {\n                    return false;\n                }\n                thisAttributes = this.attributes;\n                otherAttributes = other.attributes;\n                if (thisAttributes.length != otherAttributes.length) {\n                    return false;\n                }\n                break;\n            case Node.ATTRIBUTE_NODE:\n                if (this.namespaceURI !== other.namespaceURI || this.localName !== other.localName || this.value !== other.value) {\n                    return false;\n                }\n                break;\n            case Node.PROCESSING_INSTRUCTION_NODE:\n                if (this.target !== other.target || this.data !== other.data) {\n                    return false;\n                }\n                break;\n            case Node.TEXT_NODE:\n            case Node.COMMENT_NODE:\n                if (this.data !== other.data) {\n                    return false;\n                }\n                break;\n        }\n\n        if (this.nodeType == Node.ELEMENT_NODE) {\n            for (var i = 0; i < thisAttributes.length; i++) {\n                var attr1 = thisAttributes[i];\n                var attr2 = otherAttributes[attr1.name];\n                if (attr1.value !== attr2.value) {\n                    return false;\n                }\n            }\n        }\n\n        var childNodes1 = this.childNodes;\n        var childNodes2 = other.childNodes;\n        if (childNodes1.length !== other.childNodes.length) {\n            return false;\n        }\n\n        for (var _i = 0; _i < childNodes1.length; _i++) {\n            if (!childNodes1[_i].isEqualNode(childNodes2[_i])) {\n                return false;\n            }\n        }\n\n        return true;\n    },\n\n\n    // TODO: tests\n    compareDocumentPosition: function compareDocumentPosition(other) {\n        // https://dom.spec.whatwg.org/#dom-node-comparedocumentposition\n\n        if (this === other) {\n            return 0;\n        }\n\n        var node1 = other;\n        var node2 = this;\n        var attr1 = null;\n        var attr2 = null;\n\n        if (node1.nodeType == Document.prototype.ATTRIBUTE_NODE) {\n            attr1 = node1;\n            node1 = attr1.ownerElement;\n        }\n\n        if (node2.nodeType == Document.prototype.ATTRIBUTE_NODE) {\n            attr2 = node2;\n            node2 = attr2.ownerElement;\n\n            if (attr1 && node1 && node2 === node1) {\n                var attrs = node2.atttributes;\n                for (var i = 0; i < attrs.length; i++) {\n                    var attr = attrs[i];\n                    if (attr.isEqualNode(attr1)) {\n                        return Document.prototype.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC + Document.prototype.DOCUMENT_POSITION_PRECEDING;\n                    } else if (attr.isEqualNode(attr2)) {\n                        return Document.prototype.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC + Document.prototype.DOCUMENT_POSITION_FOLLOWING;\n                    }\n                }\n            }\n        }\n\n        if (!node1 || !node2 || _dom2.default.root(node1) !== _dom2.default.root(node2)) {\n            return Document.prototype.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC + Document.prototype.DOCUMENT_POSITION_FOLLOWING + Document.prototype.DOCUMENT_POSITION_DISCONNECTED;\n        }\n\n        if (ancestorOf(node2, node1) || node1 === node2 && attr2) {\n            return Document.prototype.DOCUMENT_POSITION_CONTAINS + Document.prototype.DOCUMENT_POSITION_PRECEDING;\n        }\n\n        if (ancestorOf(node1, node2) || node1 === node2 && attr1) {\n            return Document.prototype.DOCUMENT_POSITION_CONTAINS + Document.prototype.DOCUMENT_POSITION_FOLLOWING;\n        }\n\n        if (preceding(node1, node2)) {\n            return Document.prototype.DOCUMENT_POSITION_PRECEDING;\n        }\n\n        return Document.prototype.DOCUMENT_POSITION_FOLLOWING;\n    },\n\n\n    // TODO: tests\n    contains: function contains(node) {\n        // https://dom.spec.whatwg.org/#dom-node-contains\n\n        var parent = node.parentNode;\n\n        if (!parent) {\n            return false;\n        }\n\n        do {\n            if (parent === this) {\n                return true;\n            }\n        } while (parent = parent.parentNode);\n\n        return false;\n    },\n\n\n    // TODO: tests\n    insertBefore: function insertBefore(node, child) {\n        var _this5 = this;\n\n        return _customElements2.default.executeCEReactions(function () {\n            // https://dom.spec.whatwg.org/#dom-node-insertbefore\n            // The insertBefore(node, child) method, when invoked, must return the result \n            // of pre-inserting node into context object before child.\n            return _dom2.default.preInsert(node, _this5, child);\n        });\n    },\n\n\n    // TODO: tests\n    appendChild: function appendChild(node) {\n        var _this6 = this;\n\n        return _customElements2.default.executeCEReactions(function () {\n            // https://dom.spec.whatwg.org/#dom-node-appendchild\n            // The appendChild(node) method, when invoked, must return the result of \n            // appending node to context object.\n            return _dom2.default.append(node, _this6);\n        });\n    },\n\n\n    // TODO: tests\n    replaceChild: function replaceChild(node, child) {\n        var _this7 = this;\n\n        return _customElements2.default.executeCEReactions(function () {\n            // https://dom.spec.whatwg.org/#dom-node-replacechild\n            // The replaceChild(node, child) method, when invoked, must return the \n            // result of replacing child with node within context object.\n            return _dom2.default.replace(child, node, _this7);\n        });\n    },\n\n\n    // TODO: tests\n    removeChild: function removeChild(child) {\n        var _this8 = this;\n\n        return _customElements2.default.executeCEReactions(function () {\n            // https://dom.spec.whatwg.org/#dom-node-removechild\n            // The removeChild(child) method, when invoked, must return the result of \n            // pre-removing child from context object.\n            return _dom2.default.preRemove(child, _this8);\n        });\n    }\n};\n\nfunction install() {\n    if (_utils2.default.brokenAccessors) {\n        var subtypes = [Document, DocumentFragment, Element, Attr, CharacterData];\n\n        subtypes.forEach(function (type) {\n            return _utils2.default.extend(type, accessorDescriptors);\n        });\n        _utils2.default.extend(Node, methodDescriptors);\n    } else {\n        _utils2.default.extend(Node, accessorDescriptors);\n        _utils2.default.extend(Node, methodDescriptors);\n\n        // Cleanup for IE, Edge\n        _utils2.default.deleteProperty(Node, 'attributes');\n    }\n}\n\nfunction ancestorOf(node, ancestor) {\n    var parent = node.parentNode;\n\n    do {\n        if (parent === ancestor) {\n            return true;\n        }\n    } while (parent = parent.parentNode);\n\n    return false;\n}\n\nfunction preceding(element1, element2) {\n    function precedingSiblings(parent, sibling1, sibling2) {\n        var siblings = parent.childNodes;\n        for (var _i2 = 0; _i2 < siblings.length; _i2++) {\n            var sibling = siblings[_i2];\n            if (sibling === sibling1) {\n                return true;\n            } else if (sibling === sibling2) {\n                return false;\n            }\n        }\n    }\n\n    // Check if they're already siblings.\n    var ancestor1 = element1.parentNode;\n    var ancestor2 = element2.parentNode;\n\n    if (ancestor1 === ancestor2) {\n        return precedingSiblings(element1, element2);\n    }\n\n    // Find the closest common ancestor.\n    var ancestors1 = [ancestor1];\n    var ancestors2 = [ancestor2];\n\n    while (ancestor1 = ancestor1.parentNode) {\n        ancestors1.push(ancestor1);\n    }\n\n    while (ancestor2 = ancestor2.parentNode) {\n        ancestors2.push(ancestor2);\n    }\n\n    ancestors1.reverse();\n    ancestors2.reverse();\n\n    var diff = Math.abs(ancestors1.length - ancestors2.length);\n    var min = Math.min(ancestors1.length, ancestors2.length);\n\n    var i = 0;\n    while (ancestors1[i] === ancestors2[i]) {\n        i++;\n    }\n\n    return precedingSiblings(ancestors1[i - 1], ancestors1[i], ancestors2[i]);\n}\n\nfunction elementTextContent(element) {\n    var result = '';\n    var childNodes = element.childNodes;\n    for (var i = 0; i < childNodes.length; i++) {\n        var childNode = childNodes[i];\n        switch (childNode.nodeType) {\n            case Node.ELEMENT_NODE:\n                result += elementTextContent(childNode);\n                break;\n            case Node.TEXT_NODE:\n                result += childNode.data;\n                break;\n        }\n    }\n    return result;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _dom = require('../dom.js');\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _customElements = require('../custom-elements.js');\n\nvar _customElements2 = _interopRequireDefault(_customElements);\n\nvar _utils = require('../utils.js');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n\n    get nodeName() {\n        return '#shadow-root';\n    },\n\n    get mode() {\n        return _utils2.default.getShadowState(this).mode;\n    },\n\n    get host() {\n        return _utils2.default.getShadowState(this).host;\n    },\n\n    // TODO: tests\n    get innerHTML() {\n        return _dom2.default.serializeHTMLFragment(this);\n    },\n\n    // TODO: tests\n    set innerHTML(value) {\n        var _this = this;\n\n        return _customElements2.default.executeCEReactions(function () {\n            var fragment = _dom2.default.parseHTMLFragment(value, _this);\n            _dom2.default.replaceAll(fragment, _this);\n        });\n    }\n\n}; // https://dom.spec.whatwg.org/#interface-shadowroot\n// https://www.w3.org/TR/shadow-dom/#the-shadowroot-interface","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _dom = require('../dom.js');\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _utils = require('../utils.js');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// https://dom.spec.whatwg.org/#interface-text\n\nexports.default = {\n\n    // TODO: tests\n    splitText: function splitText(offset) {\n        var length = this.length;\n        if (offset > length) {\n            throw _utils2.default.makeDOMException('IndexSizeError');\n        }\n        var count = length - offset;\n        var newData = this.data.slice(offset, count);\n        var newNode = this.ownerDocument.createTextNode(newData);\n        var parent = this.parentNode;\n        if (parent) {\n            _dom2.default.insert(newNode, parent, this.nextSibling);\n            // TODO: (Range)\n        }\n        this.replaceData(offset, count, '');\n        // TODO: (Range)\n        // if (!parent) { }\n        return newNode;\n    }\n};","'use strict';\n\nvar _shadowDom = require('./shadow-dom.js');\n\nvar _shadowDom2 = _interopRequireDefault(_shadowDom);\n\nvar _customElements = require('./custom-elements.js');\n\nvar _customElements2 = _interopRequireDefault(_customElements);\n\nrequire('./style-scoping.js');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar installShadowDom = false;\nvar installCustomElements = false;\n\nif (window['forceShadowDomPolyfill'] || !_shadowDom2.default.nativeSupport) {\n    installShadowDom = true;\n}\n\nif (window['forceCustomElementsPolyfill'] || !_customElements2.default.nativeSupport) {\n    installShadowDom = true;\n    installCustomElements = true;\n}\n\nif (installShadowDom) {\n    _shadowDom2.default.install();\n    window['shadowDomPolyfilled'] = true;\n}\n\nif (installCustomElements) {\n    _customElements2.default.install();\n    window['customElementsPolyfilled'] = true;\n} else {\n    // TODO: Offer a way to opt out if desired. Possibly refer to:\n    // https://philipwalton.com/articles/loading-polyfills-only-when-needed/\n    _customElements2.default.installTranspiledClassSupport();\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = {\n    enqueue: enqueue\n};\n\n\nvar triggered = false;\nvar queue = new Array();\nvar trigger = document.createElement('span');\nvar observer = new MutationObserver(process);\nobserver.observe(trigger, { attributes: true });\n\nfunction enqueue(microtask) {\n    queue.push(microtask);\n    if (!triggered) {\n        trigger.hidden = !trigger.hidden;\n        triggered = true;\n    }\n}\n\nfunction process() {\n    triggered = false;\n    queue.splice(0, queue.length).forEach(function (microtask) {\n        return microtask();\n    });\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _dom = require('../dom.js');\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _customElements = require('../custom-elements.js');\n\nvar _customElements2 = _interopRequireDefault(_customElements);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// https://dom.spec.whatwg.org/#interface-childnode\n\nexports.default = {\n\n    // TODO: tests\n    before: function before() {\n        var _this = this;\n\n        for (var _len = arguments.length, nodes = Array(_len), _key = 0; _key < _len; _key++) {\n            nodes[_key] = arguments[_key];\n        }\n\n        return _customElements2.default.executeCEReactions(function () {\n            // https://dom.spec.whatwg.org/#dom-childnode-before\n            // The before(nodes) method, when invoked, must run these steps:\n\n            // 1. Let parent be context objects parent.\n            var parent = _this.parentNode;\n\n            // 2. If parent is null, terminate these steps.\n            if (!parent) {\n                return;\n            }\n\n            // 3. Let viablePreviousSibling be context objects first preceding \n            // sibling not in nodes, and null otherwise.\n            var viablePreviousSibling = _this.previousSibling;\n            while (viablePreviousSibling && nodes.indexOf(viablePreviousSibling) !== -1) {\n                viablePreviousSibling = viablePreviousSibling.previousSibling;\n            }\n\n            // 4. Let node be the result of converting nodes into a node, given \n            // nodes and context objects node document. Rethrow any exceptions.\n            var node = _dom2.default.convertNodesIntoANode(nodes, _this.ownerDocument);\n\n            // 5. If viablePreviousSibling is null, set it to parents first child, \n            // and to viablePreviousSiblings next sibling otherwise.\n            if (viablePreviousSibling === null) {\n                viablePreviousSibling = parent.firstChild;\n            } else {\n                viablePreviousSibling = viablePreviousSibling.nextSibling;\n            }\n\n            // 6. Pre-insert node into parent before viablePreviousSibling. \n            // Rethrow any exceptions.\n            _dom2.default.preInsert(node, parent, viablePreviousSibling);\n        });\n    },\n\n\n    // TODO: tests\n    after: function after() {\n        var _this2 = this;\n\n        for (var _len2 = arguments.length, nodes = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            nodes[_key2] = arguments[_key2];\n        }\n\n        return _customElements2.default.executeCEReactions(function () {\n            // https://dom.spec.whatwg.org/#dom-childnode-after\n            // The after(nodes) method, when invoked, must run these steps:\n\n            // 1. Let parent be context objects parent.\n            var parent = _this2.parentNode;\n\n            // 2. If parent is null, terminate these steps.\n            if (!parent) {\n                return;\n            }\n\n            // 3. Let viableNextSibling be context objects first following \n            // sibling not in nodes, and null otherwise.\n            var viableNextSibling = _this2.nextSibling;\n            while (viableNextSibling && nodes.indexOf(viableNextSibling) !== -1) {\n                viableNextSibling = viableNextSibling.nextSibling;\n            }\n\n            // 4. Let node be the result of converting nodes into a node, given \n            // nodes and context objects node document. Rethrow any exceptions.\n            var node = _dom2.default.convertNodesIntoANode(nodes, _this2.ownerDocument);\n\n            // 5. Pre-insert node into parent before viableNextSibling. Rethrow \n            // any exceptions.\n            _dom2.default.preInsert(node, parent, viableNextSibling);\n        });\n    },\n\n\n    // TODO: tests\n    replaceWith: function replaceWith() {\n        var _this3 = this;\n\n        for (var _len3 = arguments.length, nodes = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n            nodes[_key3] = arguments[_key3];\n        }\n\n        return _customElements2.default.executeCEReactions(function () {\n            // https://dom.spec.whatwg.org/#dom-childnode-replacewith\n            // The replaceWith(nodes) method, when invoked, must run these steps:\n\n            // 1. Let parent be context objects parent.\n            var parent = _this3.parentNode;\n\n            // 2. If parent is null, terminate these steps.\n            if (!parent) {\n                return;\n            }\n\n            // 3. Let viableNextSibling be context objects first following \n            // sibling not in nodes, and null otherwise.\n            var viableNextSibling = _this3.nextSibling;\n            while (viableNextSibling && nodes.indexOf(viableNextSibling) !== -1) {\n                viableNextSibling = viableNextSibling.nextSibling;\n            }\n\n            // 4. Let node be the result of converting nodes into a node, given \n            // nodes and context objects node document. Rethrow any exceptions.\n            var node = _dom2.default.convertNodesIntoANode(nodes, _this3.ownerDocument);\n\n            // 5. If context objects parent is parent, replace the context object \n            // with node within parent. Rethrow any exceptions.\n            if (_this3.parentNode == parent) {\n                _dom2.default.replace(_this3, node, parent);\n            }\n            // 6. Otherwise, pre-insert node into parent before viableNextSibling. \n            // Rethrow any exceptions.\n            else {\n                    _dom2.default.preInsert(node, parent, viableNextSibling);\n                }\n        });\n    },\n\n\n    // TODO: tests\n    remove: function remove() {\n        var _this4 = this;\n\n        return _customElements2.default.executeCEReactions(function () {\n            // https://dom.spec.whatwg.org/#dom-childnode-remove\n            // The remove() method, when invoked, must run these steps:\n\n            // 1. If context objects parent is null, terminate these steps.\n            var parent = _this4.parentNode;\n\n            if (!parent) {\n                return;\n            }\n\n            // 2. Remove the context object from context objects parent.\n            _dom2.default.remove(_this4, parent);\n        });\n    }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _dom = require('../dom.js');\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _utils = require('../utils.js');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// https://dom.spec.whatwg.org/#mixin-documentorshadowroot\n// https://www.w3.org/TR/shadow-dom/#extensions-to-the-documentorshadowroot-mixin\n\nvar nativeDocumentActiveElement = _utils2.default.descriptor(Document, 'activeElement');\n\nexports.default = {\n\n    // TODO: consider getSelection()\n    // TODO: consider elementFromPoint(double x, double y)\n    // TODO: consider elementsFromPoint(double x, double y)\n    // TODO: consider get styleSheets()\n\n    // TODO: tests\n    get activeElement() {\n        var document = this.ownerDocument || this;\n        var nativeActiveElement = nativeDocumentActiveElement.get.call(document);\n\n        if (!nativeActiveElement || document != _dom2.default.shadowIncludingRoot(this)) {\n            return null;\n        }\n\n        return _dom2.default.retarget(nativeActiveElement, this);\n    }\n\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _utils = require('../utils.js');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar elementWalker = document.createTreeWalker(document, NodeFilter.SHOW_ELEMENT, null, false); // https://dom.spec.whatwg.org/#interface-nondocumenttypechildnode\n\nexports.default = {\n\n    // TODO: tests\n    get previousElementSibling() {\n        var nodeState = _utils2.default.getShadowState(this);\n        if (nodeState) {\n            var parentNode = nodeState.parentNode;\n            if (parentNode) {\n                var childNodes = _utils2.default.getShadowState(parentNode).childNodes;\n                var index = childNodes.indexOf(this);\n                while (index > 0) {\n                    var previous = childNodes[--index];\n                    if (previous.nodeType === Node.ELEMENT_NODE) {\n                        return previous;\n                    }\n                };\n                return null;\n            }\n        }\n        elementWalker.currentNode = this;\n        return elementWalker.previousSibling();\n    },\n\n    // TODO: tests\n    get nextElementSibling() {\n        var nodeState = _utils2.default.getShadowState(this);\n        if (nodeState) {\n            var parentNode = nodeState.parentNode;\n            if (parentNode) {\n                var childNodes = _utils2.default.getShadowState(parentNode).childNodes;\n                var index = childNodes.indexOf(this);\n                while (index < childNodes.length - 1) {\n                    var next = childNodes[++index];\n                    if (next.nodeType === Node.ELEMENT_NODE) {\n                        return next;\n                    }\n                };\n                return null;\n            }\n        }\n        elementWalker.currentNode = this;\n        return elementWalker.nextSibling();\n    }\n\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _dom = require('../dom.js');\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    getElementById: function getElementById(id) {\n        // https://dom.spec.whatwg.org/#dom-nonelementparentnode-getelementbyid\n\n        if (id === '' || /\\s/.test(id)) {\n            return null;\n        }\n\n        var firstChild = this.firstChild;\n\n        if (!firstChild) {\n            return null;\n        }\n\n        return _dom2.default.treeOrderRecursiveSelectFirst(firstChild, function (node) {\n            return node.id === id;\n        });\n    }\n}; // https://dom.spec.whatwg.org/#interface-nonelementparentnode","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _dom = require('../dom.js');\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _customElements = require('../custom-elements.js');\n\nvar _customElements2 = _interopRequireDefault(_customElements);\n\nvar _utils = require('../utils.js');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar elementWalker = document.createTreeWalker(document, NodeFilter.SHOW_ELEMENT, null, false); // https://dom.spec.whatwg.org/#interface-parentnode\n\nexports.default = {\n\n    get children() {\n        var childNodes = void 0;\n\n        var shadowState = _utils2.default.getShadowState(this);\n        if (shadowState) {\n            childNodes = shadowState.childNodes;\n        }\n\n        if (!childNodes) {\n            childNodes = this.childNodes;\n        }\n\n        var childNodesLength = childNodes.length;\n        var elements = new Array(childNodesLength);\n        var pushed = 0;\n        for (var i = 0; i < childNodesLength; i++) {\n            var node = childNodes[i];\n            if (node.nodeType == Node.ELEMENT_NODE) {\n                elements[pushed++] = node;\n            }\n        }\n        elements.length = pushed;\n\n        return elements;\n    },\n\n    get firstElementChild() {\n        var shadowState = _utils2.default.getShadowState(this);\n        if (shadowState) {\n            var childNodes = shadowState.childNodes;\n            if (childNodes) {\n                for (var i = 0; i < childNodes.length; i++) {\n                    var node = childNodes[i];\n                    if (node.nodeType == Node.ELEMENT_NODE) {\n                        return node;\n                    }\n                }\n                return null;\n            }\n        }\n        elementWalker.currentNode = this;\n        return elementWalker.firstChild();\n    },\n\n    get lastElementChild() {\n        var shadowState = _utils2.default.getShadowState(this);\n        if (shadowState) {\n            var childNodes = shadowState.childNodes;\n            if (childNodes) {\n                for (var i = childNodes.length - 1; i >= 0; i--) {\n                    var node = childNodes[i];\n                    if (node.nodeType == Node.ELEMENT_NODE) {\n                        return node;\n                    }\n                }\n                return null;\n            }\n        }\n        elementWalker.currentNode = this;\n        return elementWalker.lastChild();\n    },\n\n    get childElementCount() {\n        var childNodes = void 0;\n\n        var shadowState = _utils2.default.getShadowState(this);\n        if (shadowState) {\n            childNodes = shadowState.childNodes;\n        }\n\n        if (!childNodes) {\n            childNodes = this.childNodes;\n        }\n\n        var count = 0;\n\n        for (var i = 0; i < childNodes.length; i++) {\n            var node = childNodes[i];\n            if (node.nodeType == Node.ELEMENT_NODE) {\n                count++;\n            }\n        }\n\n        return count;\n    },\n\n    // TODO: tests\n    prepend: function prepend() {\n        var _this = this;\n\n        for (var _len = arguments.length, nodes = Array(_len), _key = 0; _key < _len; _key++) {\n            nodes[_key] = arguments[_key];\n        }\n\n        return _customElements2.default.executeCEReactions(function () {\n            // https://dom.spec.whatwg.org/#dom-parentnode-prepend\n            // The prepend(nodes) method, when invoked, must run these steps:\n\n            // 1. Let node be the result of converting nodes into a node given \n            // nodes and context objects node document. Rethrow any exceptions.\n            var node = _dom2.default.convertNodesIntoANode(nodes, _this.ownerDocument || _this);\n\n            // 2. Pre-insert node into context object before the context objects \n            // first child. Rethrow any exceptions.\n            _dom2.default.preInsert(node, _this, _this.firstChild);\n        });\n    },\n\n\n    // TODO: tests\n    append: function append() {\n        var _this2 = this;\n\n        for (var _len2 = arguments.length, nodes = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            nodes[_key2] = arguments[_key2];\n        }\n\n        return _customElements2.default.executeCEReactions(function () {\n            // https://dom.spec.whatwg.org/#dom-parentnode-append\n            // The append(nodes) method, when invoked, must run these steps:\n\n            // 1. Let node be the result of converting nodes into a node given \n            // nodes and context objects node document. Rethrow any exceptions.\n            var node = _dom2.default.convertNodesIntoANode(nodes, _this2.ownerDocument || _this2);\n\n            // 2. Append node to context object. Rethrow any exceptions.\n            _dom2.default.append(node, _this2);\n        });\n    },\n\n\n    // TODO: tests\n    querySelector: function querySelector(selectors) {\n        var firstChild = this.firstChild;\n\n        if (!firstChild) {\n            return null;\n        }\n\n        return _dom2.default.treeOrderRecursiveSelectFirst(firstChild, function (node) {\n            return node.nodeType === Node.ELEMENT_NODE && node.matches(selectors);\n        });\n    },\n\n\n    // TODO: tests\n    querySelectorAll: function querySelectorAll(selectors) {\n        // https://dom.spec.whatwg.org/#scope-match-a-selectors-string\n        var results = [];\n\n        var firstChild = this.firstChild;\n\n        if (!firstChild) {\n            return results;\n        }\n\n        _dom2.default.treeOrderRecursiveSelectAll(firstChild, results, function (node) {\n            return node.nodeType === Node.ELEMENT_NODE && node.matches(selectors);\n        });\n\n        return results;\n    }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _dom = require('../dom.js');\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _utils = require('../utils.js');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// https://dom.spec.whatwg.org/#mixin-slotable\n\nexports.default = {\n\n    get assignedSlot() {\n        // spec implementation is to run 'find a slot'\n        // this uses an alternative (see https://github.com/whatwg/dom/issues/369)\n        var shadowState = _utils2.default.getShadowState(this);\n        if (shadowState) {\n            var slot = shadowState.assignedSlot;\n            if (slot && _dom2.default.closedShadowHidden(slot, this)) {\n                return null;\n            }\n            return slot;\n        }\n        return null;\n    }\n\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _microtask = require('./microtask.js');\n\nvar _microtask2 = _interopRequireDefault(_microtask);\n\nvar _utils = require('./utils.js');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    queueMutationRecord: queueMutationRecord,\n    requeueNativeRecords: function requeueNativeRecords() {\n        _requeueNativeRecords(documentObserver.takeRecords());\n    },\n    createMutationObserver: createMutationObserver,\n    createTransientObserver: createTransientObserver,\n    registerForMutationObservers: registerForMutationObservers,\n    signalASlotChange: signalASlotChange\n};\n\n\nvar MO_TYPE_ATTRIBUTES = 'attributes';\nvar MO_TYPE_CHILD_LIST = 'childList';\nvar MO_TYPE_CHARACTER_DATA = 'characterData';\n\nvar mutationObservers = [];\nvar signalSlotList = [];\nvar theEmptyList = Object.freeze([]);\n\nvar mutationObserverCompoundMicrotaskQueuedFlag = false;\n\nvar documentObserver = new MutationObserver(function (records) {\n    _requeueNativeRecords(records);\n    notifyMutationObservers();\n});\n\nregisterForMutationObservers(document);\n\nfunction queueMutationObserverCompoundMicrotask() {\n    if (mutationObserverCompoundMicrotaskQueuedFlag) {\n        return;\n    }\n    mutationObserverCompoundMicrotaskQueuedFlag = true;\n    _microtask2.default.enqueue(notifyMutationObservers);\n}\n\nfunction getOrCreateNodeObservers(node) {\n    var nodeState = _utils2.default.getShadowState(node) || _utils2.default.setShadowState(node, {});\n    var observers = nodeState.observers;\n    return observers ? observers : nodeState.observers = [];\n}\n\nfunction createMutationObserver(callback) {\n    return {\n        callback: callback,\n        queue: [],\n        nodes: [],\n        observe: function observe(node, options) {\n            _requeueNativeRecords(documentObserver.takeRecords());\n            if (this.nodes.length === 0) {\n                mutationObservers.push(this);\n            }\n            var nodeObservers = getOrCreateNodeObservers(node);\n            nodeObservers.push({ instance: this, options: options });\n            this.nodes.push(node);\n        },\n        disconnect: function disconnect() {\n            var index = mutationObservers.indexOf(this);\n            mutationObservers.splice(index, 1);\n            for (var i = 0; i < this.nodes.length; i++) {\n                var nodeObservers = getOrCreateNodeObservers(this.nodes[i]);\n                for (var j = 0; j < nodeObservers.length; j++) {\n                    if (nodeObservers[j].instance === this) {\n                        nodeObservers.splice(j, 1);\n                        break;\n                    }\n                }\n            }\n            this.nodes = [];\n        }\n    };\n}\n\nfunction createTransientObserver(observer, node, options) {\n    var transientObserver = {\n        observer: observer,\n        callback: observer.callback,\n        options: options,\n        queue: [],\n        node: node,\n        disconnect: function disconnect() {\n            var nodeObservers = getOrCreateNodeObservers(this.node);\n            for (var j = 0; j < nodeObservers.length; j++) {\n                if (nodeObservers[j].instance === this) {\n                    nodeObservers.splice(j, 1);\n                    break;\n                }\n            }\n        }\n    };\n\n    var nodeObservers = getOrCreateNodeObservers(node);\n    nodeObservers.push({ instance: transientObserver, options: options });\n\n    return transientObserver;\n}\n\nfunction queueMutationRecord(type, target, name, nameSpace, oldValue, addedNodes, removedNodes, previousSibling, nextSibling) {\n    // PERF: This is an out-of-spec optimization\n    if (mutationObservers.length === 0) {\n        return;\n    }\n\n    // https://dom.spec.whatwg.org/#queueing-a-mutation-record\n    // 1. Let interested observers be an initially empty set of \n    // MutationObserver objects optionally paired with a string.\n    var interestedObservers = [];\n    var pairedStrings = [];\n    // 2. Let nodes be the inclusive ancestors of target.\n    var nodes = [target];\n    var ancestor = target;\n    while (ancestor = ancestor.parentNode) {\n        nodes.push(ancestor);\n    }\n    // 3. Then, for each node in nodes... \n    for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        var nodeState = _utils2.default.getShadowState(node);\n        if (!nodeState || !nodeState.observers) {\n            continue;\n        }\n        // ...and then for each registered observer (with registered \n        // observers options as options) in nodes list of registered \n        // observers...\n        for (var j = 0; j < nodeState.observers.length; j++) {\n            var registeredObserver = nodeState.observers[j];\n            var options = registeredObserver.options;\n            // ...run these substeps:\n            // 1. If none of the following are true:\n            if (node != target && !options.subtree) {\n                continue;\n            }\n            if (type === MO_TYPE_ATTRIBUTES) {\n                if (!options.attributes) {\n                    continue;\n                }\n                // if options' attributeFilter is present, and options' attributeFilter\n                // does not contain name or namespace is non-null\n                if (options.attributeFilter && (options.attributeFilter.indexOf(name) === -1 || nameSpace != null)) {\n                    continue;\n                }\n            }\n            if (type === MO_TYPE_CHARACTER_DATA && !options.characterData) {\n                continue;\n            }\n            if (type === MO_TYPE_CHILD_LIST && !options.childList) {\n                continue;\n            }\n            // ...then run the subsubsteps:\n            // 1. If registered observers observer is not in interested observers, \n            // append registered observers observer to interested observers.\n            var observer = registeredObserver.instance;\n            var index = interestedObservers.indexOf(observer);\n            if (index === -1) {\n                index = interestedObservers.length;\n                interestedObservers[index] = observer;\n            }\n            // 2. If either type is \"attributes\" and options attributeOldValue is true, \n            // or type is \"characterData\" and options characterDataOldValue is true, \n            // set the paired string of registered observers observer in interested observers to oldValue.\n            if (type === MO_TYPE_ATTRIBUTES && options.attributeOldValue || type === MO_TYPE_CHARACTER_DATA && options.characterDataOldValue) {\n                pairedStrings[index] = oldValue;\n            }\n        }\n    }\n\n    // PERF: This is an out-of-spec optimization\n    if (interestedObservers.length === 0) {\n        return;\n    }\n\n    // 4. Then, for each observer in interested observers, run these substeps:\n    for (var _i = 0; _i < interestedObservers.length; _i++) {\n        var _observer = interestedObservers[_i];\n        // 1. Let record be a new MutationRecord object with its type set to type and target set to target.\n        var record = {\n            type: type,\n            target: target,\n            attributeName: null,\n            attributeNamespace: null,\n            addedNodes: theEmptyList,\n            removedNodes: theEmptyList,\n            previousSibling: null,\n            nextSibling: null,\n            oldValue: null\n        };\n        // 2. If name and namespace are given, set records attributeName to name, and records attributeNamespace to namespace.\n        if (name) {\n            record.attributeName = name;\n            record.attributeNamespace = nameSpace;\n        }\n        // 3. If addedNodes is given, set records addedNodes to addedNodes.\n        if (addedNodes) {\n            record.addedNodes = addedNodes;\n            if (addedNodes instanceof Array) {\n                record.addedNodes = addedNodes.slice();\n            }\n        }\n        // 4. If removedNodes is given, set records removedNodes to removedNodes.\n        if (removedNodes) {\n            record.removedNodes = removedNodes;\n            if (removedNodes instanceof Array) {\n                record.removedNodes = removedNodes.slice();\n            }\n        }\n        // 5. If previousSibling is given, set records previousSibling to previousSibling.\n        if (previousSibling) {\n            record.previousSibling = previousSibling;\n        }\n        // 6. If nextSibling is given, set records nextSibling to nextSibling.\n        if (nextSibling) {\n            record.nextSibling = nextSibling;\n        }\n        // 7. If observer has a paired string, set records oldValue to observers paired string.\n        record.oldValue = pairedStrings[_i];\n        // 8. Append record to observers record queue.\n        _observer.queue.push(record);\n    }\n\n    // 5. Queue a mutation observer compound microtask.\n    queueMutationObserverCompoundMicrotask();\n}\n\nfunction _requeueNativeRecords(records) {\n    var recordsCount = records.length;\n    for (var i = 0; i < recordsCount; i++) {\n        var record = records[i];\n        queueMutationRecord(record.type, record.target, record.attributeName, record.attributeNamespace, record.oldValue, record.addedNodes, record.removedNodes, record.previousSibling, record.nextSibling);\n    }\n}\n\nfunction registerForMutationObservers(node) {\n    documentObserver.observe(node, {\n        attributes: true,\n        characterData: true,\n        attributeOldValue: true,\n        characterDataOldValue: true,\n        subtree: true\n    });\n}\n\nfunction notifyMutationObservers() {\n    mutationObserverCompoundMicrotaskQueuedFlag = false;\n    var notifyList = mutationObservers.slice();\n    var signalList = signalSlotList.splice(0, signalSlotList.length);\n    for (var i = 0; i < notifyList.length; i++) {\n        var observer = notifyList[i];\n        var queue = observer.queue.splice(0, observer.queue.length);\n        for (var j = mutationObservers.length - 1; j >= 0; j--) {\n            var transientObserver = mutationObservers[j];\n            if (transientObserver.observer === observer) {\n                mutationObservers.splice(j, 1);\n                transientObserver.disconnect();\n            }\n        }\n        if (queue.length) {\n            try {\n                observer.callback.call(observer.interface, queue, observer.interface);\n            } catch (error) {\n                _utils2.default.reportError(error);\n            }\n        }\n    }\n    // TODO: verify that observers fire after slot change\n    for (var _i2 = 0; _i2 < signalList.length; _i2++) {\n        var slot = signalList[_i2];\n        // 'Event' is capitalized for Webkit.\n        var event = slot.ownerDocument.createEvent('Event');\n        event.initEvent('slotchange', true, false);\n        try {\n            slot.dispatchEvent(event);\n        } catch (error) {\n            _utils2.default.reportError(error);\n        }\n    }\n}\n\n// https://dom.spec.whatwg.org/#signaling-slot-change\n\nfunction signalASlotChange(slot) {\n    // https://dom.spec.whatwg.org/#signal-a-slot-change\n    // To signal a slot change, for a slot slot, run these steps:\n\n    // 1. If slot is not in unit of related similar-origin browsing contexts' \n    // signal slot list, append slot to unit of related similar-origin browsing \n    // contexts' signal slot list.\n    if (signalSlotList.indexOf(slot) === -1) {\n        signalSlotList.push(slot);\n    }\n\n    // 2. Queue a mutation observer compound microtask.\n    queueMutationObserverCompoundMicrotask();\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _dom = require('./dom.js');\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _utils = require('./utils.js');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _Attr = require('./interfaces/Attr.js');\n\nvar _Attr2 = _interopRequireDefault(_Attr);\n\nvar _CustomEvent = require('./interfaces/CustomEvent.js');\n\nvar _CustomEvent2 = _interopRequireDefault(_CustomEvent);\n\nvar _Document = require('./interfaces/Document.js');\n\nvar _Document2 = _interopRequireDefault(_Document);\n\nvar _Element = require('./interfaces/Element.js');\n\nvar _Element2 = _interopRequireDefault(_Element);\n\nvar _Event = require('./interfaces/Event.js');\n\nvar _Event2 = _interopRequireDefault(_Event);\n\nvar _EventTarget = require('./interfaces/EventTarget.js');\n\nvar _EventTarget2 = _interopRequireDefault(_EventTarget);\n\nvar _HTMLSlotElement = require('./interfaces/HTMLSlotElement.js');\n\nvar _HTMLSlotElement2 = _interopRequireDefault(_HTMLSlotElement);\n\nvar _HTMLTableElement = require('./interfaces/HTMLTableElement.js');\n\nvar _HTMLTableElement2 = _interopRequireDefault(_HTMLTableElement);\n\nvar _HTMLTableRowElement = require('./interfaces/HTMLTableRowElement.js');\n\nvar _HTMLTableRowElement2 = _interopRequireDefault(_HTMLTableRowElement);\n\nvar _HTMLTableSectionElement = require('./interfaces/HTMLTableSectionElement.js');\n\nvar _HTMLTableSectionElement2 = _interopRequireDefault(_HTMLTableSectionElement);\n\nvar _MutationObserver = require('./interfaces/MutationObserver.js');\n\nvar _MutationObserver2 = _interopRequireDefault(_MutationObserver);\n\nvar _NamedNodeMap = require('./interfaces/NamedNodeMap.js');\n\nvar _NamedNodeMap2 = _interopRequireDefault(_NamedNodeMap);\n\nvar _Node = require('./interfaces/Node.js');\n\nvar _Node2 = _interopRequireDefault(_Node);\n\nvar _ShadowRoot = require('./interfaces/ShadowRoot.js');\n\nvar _ShadowRoot2 = _interopRequireDefault(_ShadowRoot);\n\nvar _Text = require('./interfaces/Text.js');\n\nvar _Text2 = _interopRequireDefault(_Text);\n\nvar _ChildNode = require('./mixins/ChildNode.js');\n\nvar _ChildNode2 = _interopRequireDefault(_ChildNode);\n\nvar _DocumentOrShadowRoot = require('./mixins/DocumentOrShadowRoot.js');\n\nvar _DocumentOrShadowRoot2 = _interopRequireDefault(_DocumentOrShadowRoot);\n\nvar _NonDocumentTypeChildNode = require('./mixins/NonDocumentTypeChildNode.js');\n\nvar _NonDocumentTypeChildNode2 = _interopRequireDefault(_NonDocumentTypeChildNode);\n\nvar _NonElementParentNode = require('./mixins/NonElementParentNode.js');\n\nvar _NonElementParentNode2 = _interopRequireDefault(_NonElementParentNode);\n\nvar _ParentNode = require('./mixins/ParentNode.js');\n\nvar _ParentNode2 = _interopRequireDefault(_ParentNode);\n\nvar _Slotable = require('./mixins/Slotable.js');\n\nvar _Slotable2 = _interopRequireDefault(_Slotable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar nativeSupport = 'attachShadow' in Element.prototype;\n\nexports.default = {\n    nativeSupport: nativeSupport,\n    install: install\n};\n\n\nfunction install() {\n\n    // Hacky setting in case you want to use ShadyCSS.\n    window['ShadyDOM'] = { 'inUse': true };\n\n    // Attr interface\n    _Attr2.default.install();\n\n    // CustomEvent interface\n    window.CustomEvent = _CustomEvent2.default;\n\n    // Document interface\n    _utils2.default.extend(Document, _Document2.default);\n\n    // Element interface\n    _Element2.default.install();\n\n    // Event interface\n    _Event2.default.install();\n\n    // EventTarget\n    _EventTarget2.default.install();\n\n    // HTMLSlotElement interface\n    _utils2.default.extend('HTMLSlotElement' in window ? HTMLSlotElement : HTMLUnknownElement, _HTMLSlotElement2.default);\n\n    // HTMLTableElement interface\n    _utils2.default.extend(HTMLTableElement, _HTMLTableElement2.default);\n\n    // HTMLTableRowElement interface\n    _utils2.default.extend(HTMLTableRowElement, _HTMLTableRowElement2.default);\n\n    // HTMLTableSectionElement interface\n    _utils2.default.extend(HTMLTableSectionElement, _HTMLTableSectionElement2.default);\n\n    // MutationObserver interface\n    window.MutationObserver = _MutationObserver2.default;\n\n    // NamedNodeMap interface\n    _utils2.default.extend(NamedNodeMap, _NamedNodeMap2.default);\n\n    // Node interface\n    _Node2.default.install();\n\n    // Text interface\n    _utils2.default.extend(Text, _Text2.default);\n\n    // ChildNode mixin\n    _utils2.default.extend(DocumentType, _ChildNode2.default);\n    _utils2.default.extend(Element, _ChildNode2.default);\n    _utils2.default.extend(CharacterData, _ChildNode2.default);\n\n    // DocumentOrShadowRoot mixin\n    _utils2.default.extend(Document, _DocumentOrShadowRoot2.default);\n    _utils2.default.extend(_ShadowRoot2.default, _DocumentOrShadowRoot2.default);\n\n    // NonDocumentTypeChildNode mixin\n    _utils2.default.extend(Element, _NonDocumentTypeChildNode2.default);\n    _utils2.default.extend(CharacterData, _NonDocumentTypeChildNode2.default);\n\n    // NonElementParentNode mixin\n    _utils2.default.extend(Document, _NonElementParentNode2.default);\n    _utils2.default.extend(DocumentFragment, _NonElementParentNode2.default);\n\n    // ParentNode mixin\n    _utils2.default.extend(Document, _ParentNode2.default);\n    _utils2.default.extend(DocumentFragment, _ParentNode2.default);\n    _utils2.default.extend(_ShadowRoot2.default, _ParentNode2.default);\n    if (_utils2.default.brokenAccessors) {\n        _utils2.default.extend(HTMLElement, _ParentNode2.default);\n    } else {\n        _utils2.default.extend(Element, _ParentNode2.default);\n    }\n\n    // Slotable mixin\n    _utils2.default.extend(Element, _Slotable2.default);\n    _utils2.default.extend(Text, _Slotable2.default);\n}","'use strict';\n\nvar _customElements = require('./custom-elements.js');\n\nvar _customElements2 = _interopRequireDefault(_customElements);\n\nvar _dom = require('./dom.js');\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar nativeRemoveChild = Node.prototype.removeChild;\nvar nativeAppendChild = Node.prototype.appendChild;\nvar nativeCreateTextNode = Document.prototype.createTextNode;\n\n_dom2.default.registerInsertingSteps(function (node) {\n    // Is it even a stylesheet?\n    if (!(node instanceof HTMLStyleElement)) {\n        return;\n    }\n\n    // Is it even in a shadow root?\n    var root = _dom2.default.root(node);\n    if (!_dom2.default.isShadowRoot(root)) {\n        return;\n    }\n\n    // Is it even a valid custom element name or ANYTHING?\n    var host = root.host;\n    if (!_customElements2.default.isValidCustomElementName(host.localName)) {\n        return;\n    }\n\n    var text = node.textContent;\n\n    text = text.replace(/:host-context\\((.*)\\)/, function (match, selector) {\n        return selector + ' ' + host.localName;\n    });\n\n    text = text.replace(/:host\\((.*)\\)/, function (match, selector) {\n        return '' + host.localName + selector;\n    });\n\n    text = text.replace(/([A-Za-z0-9\\.\\-\\_\\[\\]\\(\\)\\'\\\"\\=\\:]+)?::slotted\\((.*)\\)/, function (match, preselector, selector) {\n        var slotSelector = preselector || 'slot';\n        console.log({ match: match, preselector: preselector, selector: selector });\n        return host.localName + ' ' + slotSelector + ' > ' + selector;\n    });\n\n    text = text.replace(/:host/, function () {\n        return host.localName;\n    });\n\n    var firstChild = void 0;\n    while (firstChild = node.firstChild) {\n        nativeRemoveChild.call(node, node.firstChild);\n    }\n    nativeAppendChild.call(node, nativeCreateTextNode.call(node.ownerDocument, text));\n});","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar brokenAccessors = typeof descriptor(Node, 'childNodes').get === 'undefined';\nvar nodeAppendChildDescriptor = descriptor(Node, 'appendChild');\nvar documentCreateElementDescriptor = descriptor(Document, 'createElement');\n\nexports.default = {\n    brokenAccessors: brokenAccessors,\n    descriptor: descriptor,\n    makeDOMException: makeDOMException,\n    reportError: reportError,\n    extend: extend,\n    defineProperty: defineProperty,\n    deleteProperty: deleteProperty,\n    getShadowState: getShadowState,\n    setShadowState: setShadowState,\n    isElementNode: isElementNode,\n    getUniqueSortedTokens: getUniqueSortedTokens,\n    hasAll: hasAll\n};\n\n\nfunction descriptor(type, name) {\n    return Object.getOwnPropertyDescriptor(type.prototype || type, name);\n}\n\n// TODO: analyze usages and provide brief but descriptive messages\nfunction makeDOMException(name, message) {\n    try {\n        var sacrifice = documentCreateElementDescriptor.value.call(window.document, 'div');\n        nodeAppendChildDescriptor.value.call(sacrifice, sacrifice);\n    } catch (caught) {\n        return Object.create(caught, {\n            'message': {\n                get: function get() {\n                    return message;\n                }\n            },\n            'name': {\n                get: function get() {\n                    return name;\n                }\n            },\n            'code': {\n                get: function get() {\n                    return caught.code;\n                }\n            },\n            'toString': {\n                value: function value() {\n                    if (message) {\n                        return name + ': ' + message;\n                    }\n                    return name;\n                }\n            }\n        });\n    }\n}\n\nfunction reportWarning(message) {\n    if ('console' in window && 'warn' in window.console) {\n        window.console.warn(message);\n    }\n}\n\nfunction reportError(error) {\n    if ('console' in window && 'error' in window.console) {\n        window.console.error(error);\n    }\n}\n\nfunction extend(extending, mixin) {\n    mixin = mixin.prototype || mixin;\n    var names = Object.getOwnPropertyNames(mixin);\n    for (var j = 0; j < names.length; j++) {\n        var name = names[j];\n        if (name === 'constructor') {\n            continue;\n        }\n        var newDescriptor = Object.getOwnPropertyDescriptor(mixin, name);\n        newDescriptor.configurable = true;\n        if (extending.prototype) {\n            var oldDescriptor = Object.getOwnPropertyDescriptor(extending.prototype, name);\n            if (oldDescriptor) {\n                if ('value' in newDescriptor) {\n                    if (!oldDescriptor.writable) {\n                        //reportWarning('Unable to configure data property: ' + name);\n                        continue;\n                    }\n                    extending.prototype[name] = newDescriptor.value;\n                    continue;\n                }\n                if (('get' in newDescriptor || 'set' in newDescriptor) && !oldDescriptor.configurable) {\n                    //reportWarning('Unable to configure accessor property: ' + name);\n                    continue;\n                }\n            }\n            Object.defineProperty(extending.prototype, name, newDescriptor);\n        } else {\n            Object.defineProperty(extending, name, newDescriptor);\n        }\n    }\n}\n\nfunction defineProperty(prototype, name, newDescriptor) {\n    newDescriptor.configurable = true;\n    newDescriptor.enumerable = true;\n    var oldDescriptor = Object.getOwnPropertyDescriptor(prototype, name);\n    if ('value' in newDescriptor) {\n        newDescriptor.writable = true;\n        if (oldDescriptor && !oldDescriptor.configurable) {\n            prototype[name] = newDescriptor.value;\n            return;\n        }\n    }\n    Object.defineProperty(prototype, name, newDescriptor);\n}\n\nfunction deleteProperty(constructor, name) {\n    var descriptor = Object.getOwnPropertyDescriptor(constructor.prototype, name);\n    if (!descriptor) {\n        return;\n    }\n    if (!descriptor.configurable) {\n        console.warn('Warning: unable to delete property \\'' + name + '\\' of ' + constructor.name);\n        return;\n    }\n    delete constructor.prototype[name];\n}\n\nfunction getShadowState(object) {\n    return object._shadow;\n}\n\nfunction setShadowState(object, state) {\n    return object._shadow = state;\n}\n\nfunction isElementNode(node) {\n    return node.nodeType === Node.ELEMENT_NODE;\n}\n\nfunction hasAll(desiredItems, itemsInQuestion) {\n    // depends on sorted, unique input.\n    if (itemsInQuestion.length < desiredItems.length) {\n        return false;\n    }\n\n    var d = 0;\n    var i = 0;\n    var desiredItem = desiredItems[0];\n    var itemInQuestion = itemsInQuestion[0];\n    var iLength = itemsInQuestion.length;\n    var dLength = desiredItems.length;\n    do {\n        if (itemInQuestion === desiredItem) {\n            desiredItem = desiredItems[++d];\n        }\n        itemInQuestion = itemsInQuestion[++d];\n    } while (d <= dLength && i <= iLength);\n    return d > dLength;\n}\n\nfunction getUniqueSortedTokens(tokens) {\n    if (tokens === null || tokens === undefined || tokens === '') {\n        return null;\n    }\n\n    tokens = tokens.trim().split(/\\s+/).sort();\n\n    if (tokens.length > 1) {\n        var last = tokens[0];\n        var unique = [last];\n        for (var i = 1; i < tokens.length; i++) {\n            var current = tokens[i];\n            if (current === last) {\n                continue;\n            }\n            unique.push(current);\n            last = current;\n        }\n        tokens = unique;\n    }\n\n    return tokens;\n}"]}